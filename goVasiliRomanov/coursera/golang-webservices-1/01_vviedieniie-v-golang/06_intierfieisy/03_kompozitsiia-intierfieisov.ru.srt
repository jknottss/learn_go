1
00:00:00,000 --> 00:00:05,147
[БЕЗ_ЗВУКА] Сейчас

2
00:00:05,147 --> 00:00:09,060
мы поговорим про встраивание интерфейсов.

3
00:00:09,060 --> 00:00:14,061
Подобно структурам,
когда вы можете вложить,

4
00:00:14,061 --> 00:00:17,740
embed, одну структуру в другую,
иметь доступ к её полям,

5
00:00:17,740 --> 00:00:22,771
похожую операцию можно
проводит и с интерфейсами.

6
00:00:22,771 --> 00:00:27,035
Вы можете встраивать
один интерфейс в другой,

7
00:00:27,035 --> 00:00:31,120
тем самым образуя более
сложные интерфейсы.

8
00:00:31,120 --> 00:00:34,550
Давайте рассмотрим пример.

9
00:00:34,550 --> 00:00:40,680
У меня есть интерфейс Плательщик,
который требует метод Pay, заплатить.

10
00:00:40,680 --> 00:00:46,360
И есть телефон, тип интерфейс Звонилка,

11
00:00:46,360 --> 00:00:50,660
которая требует метод позвонить.

12
00:00:50,660 --> 00:00:55,433
И есть интерфейс NFCPhone,

13
00:00:55,433 --> 00:01:00,352
то есть телефон,
который реализует метод бесконтактной

14
00:01:00,352 --> 00:01:05,167
оплаты через NFC технологию.

15
00:01:05,167 --> 00:01:09,530
И этот интерфейс образован
композицией двух других

16
00:01:09,530 --> 00:01:12,420
интерфейсов: Плательщик и Звонилка.

17
00:01:12,420 --> 00:01:16,990
То есть получается, что на самом деле мой

18
00:01:16,990 --> 00:01:21,878
интерфейс выглядит вот так.

19
00:01:21,878 --> 00:01:23,040
Раз.

20
00:01:23,040 --> 00:01:26,360
Два.

21
00:01:26,360 --> 00:01:31,640
Но каждый раз полностью объявлять
совсем новые типы не очень удобно,

22
00:01:31,640 --> 00:01:37,850
поэтому вот композиция интерфейсов
позволяет облегчить нам жизнь.

23
00:01:37,850 --> 00:01:42,215
Не обязательно использовать
только интерфейсы,

24
00:01:42,215 --> 00:01:45,592
вы можете один интерфейс встроить,
а другой — объявить.

25
00:01:45,592 --> 00:01:51,480
Вот так.
У меня есть функция: заплатить

26
00:01:51,480 --> 00:01:57,010
в метро через NFCPhone.

27
00:01:57,010 --> 00:02:01,890
Я её вызываю, если действительно я туда

28
00:02:01,890 --> 00:02:07,117
передал NFCPhone,
который реализует и функцию Pay,

29
00:02:07,117 --> 00:02:11,189
и функцию Ring, звонить, он пройдет.

30
00:02:11,189 --> 00:02:17,080
Я успешно приложу телефон
к турникету и пройду.

31
00:02:17,080 --> 00:02:21,417
Это также очень мощный способ
композиции интерфейсов,

32
00:02:21,417 --> 00:02:25,940
и много в стандартной библиотеке
реализовано через него.