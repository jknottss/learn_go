





<!DOCTYPE html>
<html lang="en" data-color-mode="auto" data-light-theme="light" data-dark-theme="dark" >
  <head>
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://github.githubassets.com">
  <link rel="dns-prefetch" href="https://avatars.githubusercontent.com">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">
  <link rel="preconnect" href="https://github.githubassets.com" crossorigin>
  <link rel="preconnect" href="https://avatars.githubusercontent.com">



  <link crossorigin="anonymous" media="all" integrity="sha512-sD8zc/Dn1lguLc4FdbeVhD2gfxFCTXGr/y+MpJG3oX1vkAyaFf/7BHPtvv1dAHA0KG4bDEW3Ex1EPrzGTMtN2Q==" rel="stylesheet" href="https://github.githubassets.com/assets/light-b03f3373f0e7.css" /><link crossorigin="anonymous" media="all" integrity="sha512-V0872pNNqPTaPQFzdwX9tHIzJvB4F1Foi6VYDciZAMo/qHgBC8PvN2d/SkMweiNDbR6eF3cXcG0aPVrEtC8zqw==" rel="stylesheet" href="https://github.githubassets.com/assets/dark-574f3bda934d.css" /><link data-color-theme="dark_dimmed" crossorigin="anonymous" media="all" integrity="sha512-PzuUWYSTZfXfFMEstZYF7zd5TnBiunweYKf7SA0USRWwzNBPELoB8ZhGVGTwcMSwF5ff9kyBAdGzEbfJ2/4cig==" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_dimmed-3f3b94598493.css" /><link data-color-theme="dark_high_contrast" crossorigin="anonymous" media="all" integrity="sha512-PDguTqV/sgFBBIdGLWGe50pI4GUQjVg3NQIm1ue9+6Wtn5qdx122aGJ1/M6IydIYhVs1tRfeLBl8P+7lNRRHlg==" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_high_contrast-3c382e4ea57f.css" /><link data-color-theme="dark_colorblind" crossorigin="anonymous" media="all" integrity="sha512-PZ0pkh4DltajJswDsmdCrHotI3eS5qb+etb48dcRDxUuiy0g2YP+kw5sQi04CE7AO+J33JXg86PAQoivVKkdKg==" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_colorblind-3d9d29921e03.css" /><link data-color-theme="light_colorblind" crossorigin="anonymous" media="all" integrity="sha512-P+VDoZFVyqfAb06foA/ZLUzHkdMPqEQq1d1B0VSzEzOF3fidwKWULgI+b1E+OoF7VnC5HXRS4lMJPKKc6wrc8g==" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_colorblind-3fe543a19155.css" /><link data-color-theme="light_high_contrast" crossorigin="anonymous" media="all" integrity="sha512-33ulzUgAM4pZv65KAcvjwZLHiC4bQaF61LiK9BiAQ/kuCG/+LtNi2clT1gfb72sa9SOsiu4fs4bEBL543Ms3Iw==" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_high_contrast-df7ba5cd4800.css" />
    <link crossorigin="anonymous" media="all" integrity="sha512-5ITBENg+F5FPizqEsxN2bcmczO46aikzj/TypfSsMeBhfQdvrwp+exPchAMYBksYmjzlK9JZ57G9b1EiEklI5A==" rel="stylesheet" href="https://github.githubassets.com/assets/frameworks-e484c110d83e.css" />
    <link crossorigin="anonymous" media="all" integrity="sha512-Q1pxMwbjf9TRvtZHxthjG2H2cG3oIZYMlJ1H0+LneQ/TwZf+CbwdS+DgpKaia34ugCjSJH92VUhslZFzhgUlng==" rel="stylesheet" href="https://github.githubassets.com/assets/behaviors-435a713306e3.css" />
  <link crossorigin="anonymous" media="all" integrity="sha512-ayXlm8B066mM6BR2iSgRpYbKYRC9Enh0HnzRlf9no0/GyLOyJc61eboyu0zHCz3ZGu4xJo0nuyOCunSRTjMRFA==" rel="stylesheet" href="https://github.githubassets.com/assets/github-6b25e59bc074.css" />

    <meta name="optimizely-datafile" content="{&quot;version&quot;: &quot;4&quot;, &quot;rollouts&quot;: [], &quot;typedAudiences&quot;: [], &quot;anonymizeIP&quot;: true, &quot;projectId&quot;: &quot;16737760170&quot;, &quot;variables&quot;: [], &quot;featureFlags&quot;: [], &quot;experiments&quot;: [{&quot;status&quot;: &quot;Running&quot;, &quot;audienceIds&quot;: [], &quot;variations&quot;: [{&quot;variables&quot;: [], &quot;id&quot;: &quot;20438636352&quot;, &quot;key&quot;: &quot;control&quot;}, {&quot;variables&quot;: [], &quot;id&quot;: &quot;20484957397&quot;, &quot;key&quot;: &quot;treatment&quot;}], &quot;id&quot;: &quot;20479227424&quot;, &quot;key&quot;: &quot;growth_ghec_onboarding_experience&quot;, &quot;layerId&quot;: &quot;20467848595&quot;, &quot;trafficAllocation&quot;: [{&quot;entityId&quot;: &quot;20484957397&quot;, &quot;endOfRange&quot;: 1000}, {&quot;entityId&quot;: &quot;20484957397&quot;, &quot;endOfRange&quot;: 3000}, {&quot;entityId&quot;: &quot;20484957397&quot;, &quot;endOfRange&quot;: 5000}, {&quot;entityId&quot;: &quot;20484957397&quot;, &quot;endOfRange&quot;: 6000}, {&quot;entityId&quot;: &quot;20484957397&quot;, &quot;endOfRange&quot;: 8000}, {&quot;entityId&quot;: &quot;20484957397&quot;, &quot;endOfRange&quot;: 10000}], &quot;forcedVariations&quot;: {&quot;85e2238ce2b9074907d7a3d91d6feeae&quot;: &quot;control&quot;}}, {&quot;status&quot;: &quot;Running&quot;, &quot;audienceIds&quot;: [], &quot;variations&quot;: [{&quot;variables&quot;: [], &quot;id&quot;: &quot;20667381018&quot;, &quot;key&quot;: &quot;control&quot;}, {&quot;variables&quot;: [], &quot;id&quot;: &quot;20680930759&quot;, &quot;key&quot;: &quot;treatment&quot;}], &quot;id&quot;: &quot;20652570897&quot;, &quot;key&quot;: &quot;project_genesis&quot;, &quot;layerId&quot;: &quot;20672300363&quot;, &quot;trafficAllocation&quot;: [{&quot;entityId&quot;: &quot;20667381018&quot;, &quot;endOfRange&quot;: 5000}, {&quot;entityId&quot;: &quot;20680930759&quot;, &quot;endOfRange&quot;: 10000}], &quot;forcedVariations&quot;: {&quot;83356e17066d336d1803024138ecb683&quot;: &quot;treatment&quot;, &quot;18e31c8a9b2271332466133162a4aa0d&quot;: &quot;treatment&quot;, &quot;10f8ab3fbc5ebe989a36a05f79d48f32&quot;: &quot;treatment&quot;, &quot;1686089f6d540cd2deeaec60ee43ecf7&quot;: &quot;treatment&quot;}}, {&quot;status&quot;: &quot;Running&quot;, &quot;audienceIds&quot;: [], &quot;variations&quot;: [{&quot;variables&quot;: [], &quot;id&quot;: &quot;20898546114&quot;, &quot;key&quot;: &quot;control&quot;}, {&quot;variables&quot;: [], &quot;id&quot;: &quot;20923036705&quot;, &quot;key&quot;: &quot;treatment_a&quot;}, {&quot;variables&quot;: [], &quot;id&quot;: &quot;20965581308&quot;, &quot;key&quot;: &quot;treatment_b&quot;}], &quot;id&quot;: &quot;20902325119&quot;, &quot;key&quot;: &quot;contact_sales_page_optimizations&quot;, &quot;layerId&quot;: &quot;20969031091&quot;, &quot;trafficAllocation&quot;: [{&quot;entityId&quot;: &quot;20965581308&quot;, &quot;endOfRange&quot;: 3330}, {&quot;entityId&quot;: &quot;20965581308&quot;, &quot;endOfRange&quot;: 5000}, {&quot;entityId&quot;: &quot;20965581308&quot;, &quot;endOfRange&quot;: 6670}, {&quot;entityId&quot;: &quot;20965581308&quot;, &quot;endOfRange&quot;: 10000}], &quot;forcedVariations&quot;: {}}], &quot;audiences&quot;: [{&quot;conditions&quot;: &quot;[\&quot;or\&quot;, {\&quot;match\&quot;: \&quot;exact\&quot;, \&quot;name\&quot;: \&quot;$opt_dummy_attribute\&quot;, \&quot;type\&quot;: \&quot;custom_attribute\&quot;, \&quot;value\&quot;: \&quot;$opt_dummy_value\&quot;}]&quot;, &quot;id&quot;: &quot;$opt_dummy_audience&quot;, &quot;name&quot;: &quot;Optimizely-Generated Audience for Backwards Compatibility&quot;}], &quot;groups&quot;: [], &quot;sdkKey&quot;: &quot;WTc6awnGuYDdG98CYRban&quot;, &quot;environmentKey&quot;: &quot;production&quot;, &quot;attributes&quot;: [{&quot;id&quot;: &quot;16822470375&quot;, &quot;key&quot;: &quot;user_id&quot;}, {&quot;id&quot;: &quot;17143601254&quot;, &quot;key&quot;: &quot;spammy&quot;}, {&quot;id&quot;: &quot;18175660309&quot;, &quot;key&quot;: &quot;organization_plan&quot;}, {&quot;id&quot;: &quot;18813001570&quot;, &quot;key&quot;: &quot;is_logged_in&quot;}, {&quot;id&quot;: &quot;19073851829&quot;, &quot;key&quot;: &quot;geo&quot;}, {&quot;id&quot;: &quot;20175462351&quot;, &quot;key&quot;: &quot;requestedCurrency&quot;}, {&quot;id&quot;: &quot;20785470195&quot;, &quot;key&quot;: &quot;country_code&quot;}], &quot;botFiltering&quot;: false, &quot;accountId&quot;: &quot;16737760170&quot;, &quot;events&quot;: [{&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;17911811441&quot;, &quot;key&quot;: &quot;hydro_click.dashboard.teacher_toolbox_cta&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18124116703&quot;, &quot;key&quot;: &quot;submit.organizations.complete_sign_up&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18145892387&quot;, &quot;key&quot;: &quot;no_metric.tracked_outside_of_optimizely&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18178755568&quot;, &quot;key&quot;: &quot;click.org_onboarding_checklist.add_repo&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18180553241&quot;, &quot;key&quot;: &quot;submit.repository_imports.create&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18186103728&quot;, &quot;key&quot;: &quot;click.help.learn_more_about_repository_creation&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18188530140&quot;, &quot;key&quot;: &quot;test_event&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18191963644&quot;, &quot;key&quot;: &quot;click.empty_org_repo_cta.transfer_repository&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18195612788&quot;, &quot;key&quot;: &quot;click.empty_org_repo_cta.import_repository&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18210945499&quot;, &quot;key&quot;: &quot;click.org_onboarding_checklist.invite_members&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18211063248&quot;, &quot;key&quot;: &quot;click.empty_org_repo_cta.create_repository&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18215721889&quot;, &quot;key&quot;: &quot;click.org_onboarding_checklist.update_profile&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18224360785&quot;, &quot;key&quot;: &quot;click.org_onboarding_checklist.dismiss&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18234832286&quot;, &quot;key&quot;: &quot;submit.organization_activation.complete&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18252392383&quot;, &quot;key&quot;: &quot;submit.org_repository.create&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18257551537&quot;, &quot;key&quot;: &quot;submit.org_member_invitation.create&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18259522260&quot;, &quot;key&quot;: &quot;submit.organization_profile.update&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18564603625&quot;, &quot;key&quot;: &quot;view.classroom_select_organization&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18568612016&quot;, &quot;key&quot;: &quot;click.classroom_sign_in_click&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18572592540&quot;, &quot;key&quot;: &quot;view.classroom_name&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18574203855&quot;, &quot;key&quot;: &quot;click.classroom_create_organization&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18582053415&quot;, &quot;key&quot;: &quot;click.classroom_select_organization&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18589463420&quot;, &quot;key&quot;: &quot;click.classroom_create_classroom&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18591323364&quot;, &quot;key&quot;: &quot;click.classroom_create_first_classroom&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18591652321&quot;, &quot;key&quot;: &quot;click.classroom_grant_access&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18607131425&quot;, &quot;key&quot;: &quot;view.classroom_creation&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;], &quot;id&quot;: &quot;18831680583&quot;, &quot;key&quot;: &quot;upgrade_account_plan&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19064064515&quot;, &quot;key&quot;: &quot;click.signup&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19075373687&quot;, &quot;key&quot;: &quot;click.view_account_billing_page&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19077355841&quot;, &quot;key&quot;: &quot;click.dismiss_signup_prompt&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19079713938&quot;, &quot;key&quot;: &quot;click.contact_sales&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19120963070&quot;, &quot;key&quot;: &quot;click.compare_account_plans&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19151690317&quot;, &quot;key&quot;: &quot;click.upgrade_account_cta&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19424193129&quot;, &quot;key&quot;: &quot;click.open_account_switcher&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19520330825&quot;, &quot;key&quot;: &quot;click.visit_account_profile&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19540970635&quot;, &quot;key&quot;: &quot;click.switch_account_context&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19730198868&quot;, &quot;key&quot;: &quot;submit.homepage_signup&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19820830627&quot;, &quot;key&quot;: &quot;click.homepage_signup&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19988571001&quot;, &quot;key&quot;: &quot;click.create_enterprise_trial&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20036538294&quot;, &quot;key&quot;: &quot;click.create_organization_team&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20040653299&quot;, &quot;key&quot;: &quot;click.input_enterprise_trial_form&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20062030003&quot;, &quot;key&quot;: &quot;click.continue_with_team&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20068947153&quot;, &quot;key&quot;: &quot;click.create_organization_free&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20086636658&quot;, &quot;key&quot;: &quot;click.signup_continue.username&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20091648988&quot;, &quot;key&quot;: &quot;click.signup_continue.create_account&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20103637615&quot;, &quot;key&quot;: &quot;click.signup_continue.email&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20111574253&quot;, &quot;key&quot;: &quot;click.signup_continue.password&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20120044111&quot;, &quot;key&quot;: &quot;view.pricing_page&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20152062109&quot;, &quot;key&quot;: &quot;submit.create_account&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20165800992&quot;, &quot;key&quot;: &quot;submit.upgrade_payment_form&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20171520319&quot;, &quot;key&quot;: &quot;submit.create_organization&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20222645674&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.discuss_your_needs&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20227443657&quot;, &quot;key&quot;: &quot;submit.verify_primary_user_email&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20234607160&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.try_enterprise&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20238175784&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.team&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20239847212&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.continue_free&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20251097193&quot;, &quot;key&quot;: &quot;recommended_plan&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20438619534&quot;, &quot;key&quot;: &quot;click.pricing_calculator.1_member&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20456699683&quot;, &quot;key&quot;: &quot;click.pricing_calculator.15_members&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20467868331&quot;, &quot;key&quot;: &quot;click.pricing_calculator.10_members&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20476267432&quot;, &quot;key&quot;: &quot;click.trial_days_remaining&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;], &quot;id&quot;: &quot;20476357660&quot;, &quot;key&quot;: &quot;click.discover_feature&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20479287901&quot;, &quot;key&quot;: &quot;click.pricing_calculator.custom_members&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20481107083&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.apply_teacher_benefits&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20483089392&quot;, &quot;key&quot;: &quot;click.pricing_calculator.5_members&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;, &quot;20652570897&quot;], &quot;id&quot;: &quot;20484283944&quot;, &quot;key&quot;: &quot;click.onboarding_task&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20484996281&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.apply_student_benefits&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;], &quot;id&quot;: &quot;20486713726&quot;, &quot;key&quot;: &quot;click.onboarding_task_breadcrumb&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;], &quot;id&quot;: &quot;20490791319&quot;, &quot;key&quot;: &quot;click.upgrade_to_enterprise&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;], &quot;id&quot;: &quot;20491786766&quot;, &quot;key&quot;: &quot;click.talk_to_us&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;], &quot;id&quot;: &quot;20494144087&quot;, &quot;key&quot;: &quot;click.dismiss_enterprise_trial&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;, &quot;20652570897&quot;], &quot;id&quot;: &quot;20499722759&quot;, &quot;key&quot;: &quot;completed_all_tasks&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;, &quot;20652570897&quot;], &quot;id&quot;: &quot;20500710104&quot;, &quot;key&quot;: &quot;completed_onboarding_tasks&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;], &quot;id&quot;: &quot;20513160672&quot;, &quot;key&quot;: &quot;click.read_doc&quot;}, {&quot;experimentIds&quot;: [&quot;20652570897&quot;], &quot;id&quot;: &quot;20516196762&quot;, &quot;key&quot;: &quot;actions_enabled&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;], &quot;id&quot;: &quot;20518980986&quot;, &quot;key&quot;: &quot;click.dismiss_trial_banner&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20535446721&quot;, &quot;key&quot;: &quot;click.issue_actions_prompt.dismiss_prompt&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20557002247&quot;, &quot;key&quot;: &quot;click.issue_actions_prompt.setup_workflow&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20595070227&quot;, &quot;key&quot;: &quot;click.pull_request_setup_workflow&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20626600314&quot;, &quot;key&quot;: &quot;click.seats_input&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20642310305&quot;, &quot;key&quot;: &quot;click.decrease_seats_number&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20662990045&quot;, &quot;key&quot;: &quot;click.increase_seats_number&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20679620969&quot;, &quot;key&quot;: &quot;click.public_product_roadmap&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;], &quot;id&quot;: &quot;20761240940&quot;, &quot;key&quot;: &quot;click.dismiss_survey_banner&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;], &quot;id&quot;: &quot;20767210721&quot;, &quot;key&quot;: &quot;click.take_survey&quot;}, {&quot;experimentIds&quot;: [&quot;20652570897&quot;], &quot;id&quot;: &quot;20795281201&quot;, &quot;key&quot;: &quot;click.archive_list&quot;}, {&quot;experimentIds&quot;: [&quot;20902325119&quot;], &quot;id&quot;: &quot;20966790249&quot;, &quot;key&quot;: &quot;contact_sales.submit&quot;}, {&quot;experimentIds&quot;: [&quot;20902325119&quot;], &quot;id&quot;: &quot;20996500333&quot;, &quot;key&quot;: &quot;contact_sales.existing_customer&quot;}, {&quot;experimentIds&quot;: [&quot;20902325119&quot;], &quot;id&quot;: &quot;20996890162&quot;, &quot;key&quot;: &quot;contact_sales.blank_message_field&quot;}, {&quot;experimentIds&quot;: [&quot;20902325119&quot;], &quot;id&quot;: &quot;21000470317&quot;, &quot;key&quot;: &quot;contact_sales.personal_email&quot;}, {&quot;experimentIds&quot;: [&quot;20902325119&quot;], &quot;id&quot;: &quot;21002790172&quot;, &quot;key&quot;: &quot;contact_sales.blank_phone_field&quot;}], &quot;revision&quot;: &quot;1096&quot;}" />


  <script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-fYaOhKiBYu2l2N8TYhzAmL8NI29JO0uYReZhjKds75QkorZWT8qD5/VZ9zLHYqrjisTB6sGGf+5fEgDDAZ79iA==" src="https://github.githubassets.com/assets/runtime-7d868e84a881.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-32HPOwJkACFD9bjimEKNoj+NjB1UldIjZP5QxXOr6huISt7QYQxWwT23JQ1DoSy7hGfGRtDsthh0NmfzX3DyMg==" src="https://github.githubassets.com/assets/environment-df61cf3b0264.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-rB/EVqzuiKzqcb6RaaDSx+i7s/HApAXhuINThOQOfSCzOsY0zTZf2Ba2GjECWMqWsDjDbJBMP23O6Lc83vygpg==" src="https://github.githubassets.com/assets/9048-ac1fc456acee.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-HGeV9MtF7qlJk/b5sDswl5jAS3cfQncdrcrvwSIjS0FoGJanQ+P9873q4kkIRjiWs/98fqkXbbY/RoXHUCmSbA==" src="https://github.githubassets.com/assets/9758-1c6795f4cb45.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-jjPr0ZAftDw2p5OPu0DRLB9f7B5l1lZmKij0neI7TQquIKCMD6ZZTVqZTYimRo6PPUyegWiGbJmygZsiwlS43g==" src="https://github.githubassets.com/assets/6038-8e33ebd1901f.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-+u8TeLdruMiWvmBpQNA4PToUts/HCYj6PPiDiVyAnWqVJqwcf8AifE6ulyXVXn3kdRBkue6o8KUb0mhSbSakiw==" src="https://github.githubassets.com/assets/github-elements-faef1378b76b.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-1CFZIk8lImt34iQUo/3HIFBe1+1Vd0IizOZfrPZ7Od05aERgFuD7//t9q+PGhke3mf3Orz3ZQS7RjS17NwONyQ==" src="https://github.githubassets.com/assets/element-registry-d42159224f25.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-Qv2lL056rpQocE0oqgYds356Kr0VteNXu+I2H+xqjO5p0YJ7aBCngsWeS1IszuUIaiEmDoOp7umaTcXQ5P75+w==" src="https://github.githubassets.com/assets/762-42fda52f4e7a.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-kyutNFnVyXNirOp6jgLzir/lHojSmZRtKkCvj/18DUnh7DOxXyxa1uE7JKsGnXyDFvyDXAz0P76liKUpyrl5+A==" src="https://github.githubassets.com/assets/8933-932bad3459d5.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-WOGryZiEX4rxCv+yzuST7+eEDb+yYgZI0/JXge0gHDt36/QbHlCyIukOTeTEcV5Owb10K6CZPzYkyRZrCIAmKA==" src="https://github.githubassets.com/assets/52-58e1abc99884.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-4LnNDBotTstM2Et+yZ2gqy7JvdmdSzxgBNgYXyMwcTBLSioeQ22M8v0V7Sj+TlUCJaPlk0kQjTwItcZ4NlMTXg==" src="https://github.githubassets.com/assets/7105-e0b9cd0c1a2d.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-y0Ky7pWSieHl1aMPGzJ4HjAkahyiqC7ILqLq33fCkVXV/7s7AXm4y9vUMTjAsz4Kk6ASA3x/T/M67vaQUgmN3A==" src="https://github.githubassets.com/assets/2308-cb42b2ee9592.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-UQioBOJDApdwFc+p3sk/gCC7/AeniZ1u/g98H/QeeqYiYg5fivFgpe4L1q1y2OO5VjnB/CC/JpOU38OR1zsrOg==" src="https://github.githubassets.com/assets/2662-5108a804e243.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-s8ZmDpZrxT8b1b3xoPqoItmEV9dwiAYUuEMXY8O27eWNfzNxxCAgU355HQ+Mw2y5bqdyCI5T9LTfm9jKZBmFZQ==" src="https://github.githubassets.com/assets/9579-b3c6660e966b.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-/1Z+khw7i2eXHZO7nOUu8YqEpGNyOuTkQ4jH3olyybtuvY74E1Vl1KtdVHpGEJtGX0j7Rp/WHtPW+34mp5m8iA==" src="https://github.githubassets.com/assets/1201-ff567e921c3b.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-MdAQnAIjkk36D6nf7khPxr37ryAaxRMZNAN47p+kePGU+xMi8jjXwpUhGuPvKeGeGhdHgNzTF7BK+NdgMnn6+A==" src="https://github.githubassets.com/assets/9508-31d0109c0223.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-d4G8CfA1nGLZ/x0iiKJ8KLjQdRINrecwBFPO3jrRjLlhGi85eXrns5d83iTh1MMZqX1YxWECCxYAKzlV0SO62A==" src="https://github.githubassets.com/assets/7595-7781bc09f035.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-tUmB+1MiatT/pKPCcCrp0W072U5zchoa94IGcRebc9q+npwEnS8n4Gs/mIIsX+3IBydAMdFJBJvKOUAFHb3vnw==" src="https://github.githubassets.com/assets/behaviors-b54981fb5322.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-vZv147xO15/NwrEoMon2Lor5F4tSROpvyfxSqmUkr5RguhmLN7dhL6WaqFtGe+MapYypxQgz3XTi8RdZKiEfQw==" src="https://github.githubassets.com/assets/1953-bd9bf5e3bc4e.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-tipZQwuAoWNATthGqZeoESE7ZamPYuJUIStl6htGuyyH5sFl/llEo+oQ5xiPF8FtaHi/DGWURjboDL5jLIk5sg==" src="https://github.githubassets.com/assets/notifications-global-b62a59430b80.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-kNTLYzLf9OE8/Gw3vPbafw6pC1O0V4A6r70qDTTzAVfPUf9br533nwmwYJ/FEJzLiWq4Kj98y5o2Nfcs1Mxp8w==" src="https://github.githubassets.com/assets/2975-90d4cb6332df.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-OUOcgpolKq37ix3n+1MwDJGSVqZ5IIrYLcN7g0nRm0CBKrddoXAAdpT7fjWWte/6GUgD35qZBcNNPiwcGaW8ZQ==" src="https://github.githubassets.com/assets/optimizely-39439c829a25.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-xxAQo8UuHY7yQyM3UUNUUffL9a1iqePJ/et0uLTcIZ+nO/ensbzeT44PLq54Gxnc7kF2xwV6RsfkDWeRDLZaLQ==" src="https://github.githubassets.com/assets/7429-c71010a3c52e.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-7tglo0ern9xE7zRfdh51LLnRSjQ3JfpX1t38tYICwiNrd+TNcSehyiDeFW+T5JAT9kqCLoTcAdsW3dbw4uydSg==" src="https://github.githubassets.com/assets/3578-eed825a347ab.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-Sdwc3+z/WPKJn72KWAnQ6kRBxE5fePZR8idB0QDEAEFL8NGySe0iXZoVfKymgjPGcIWO3jv+wZ4PV1nptAg7ZA==" src="https://github.githubassets.com/assets/7460-49dc1cdfecff.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-JVgWk1Zv08LwYW1JrEQguNIE/6hcdJQMfZGG/u2HUpNzl3znv2t8/7DzPkZ1a4S/0CABw/qdsSFJ+X3QSnNo0A==" src="https://github.githubassets.com/assets/5283-25581693566f.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-9H6wcshr4rCQGX+2vY6/0dXQZLF8UifLVJEv1XsmUu1AGEJAOsM0JD0eYJdbz7A3i6uGxjt9ZMW1MDf/7vIyWw==" src="https://github.githubassets.com/assets/repositories-f47eb072c86b.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" integrity="sha512-UmQ0f5IIecsS2u18MoEbBzH2rch0V51PGjI3354Th21Q7kfV4q8SEQokEcPOTT+xuZazv3jxoKCeMl8V+1SbcA==" src="https://github.githubassets.com/assets/diffs-5264347f9208.js"></script>
  

  <meta name="viewport" content="width=device-width">
  
  <title>go-perfbook/performance.md at master 路 dgryski/go-perfbook 路 GitHub</title>
    <meta name="description" content="Thoughts on Go performance optimization. Contribute to dgryski/go-perfbook development by creating an account on GitHub.">
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
  <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
  <meta property="fb:app_id" content="1401488693436528">
  <meta name="apple-itunes-app" content="app-id=1477376905" />
    <meta name="twitter:image:src" content="https://opengraph.githubassets.com/3158606c344ee0d2c321f340f72d3a97cf005e7a96be0ceb806a75fdad62e177/dgryski/go-perfbook" /><meta name="twitter:site" content="@github" /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:title" content="go-perfbook/performance.md at master 路 dgryski/go-perfbook" /><meta name="twitter:description" content="Thoughts on Go performance optimization. Contribute to dgryski/go-perfbook development by creating an account on GitHub." />
    <meta property="og:image" content="https://opengraph.githubassets.com/3158606c344ee0d2c321f340f72d3a97cf005e7a96be0ceb806a75fdad62e177/dgryski/go-perfbook" /><meta property="og:image:alt" content="Thoughts on Go performance optimization. Contribute to dgryski/go-perfbook development by creating an account on GitHub." /><meta property="og:image:width" content="1200" /><meta property="og:image:height" content="600" /><meta property="og:site_name" content="GitHub" /><meta property="og:type" content="object" /><meta property="og:title" content="go-perfbook/performance.md at master 路 dgryski/go-perfbook" /><meta property="og:url" content="https://github.com/dgryski/go-perfbook" /><meta property="og:description" content="Thoughts on Go performance optimization. Contribute to dgryski/go-perfbook development by creating an account on GitHub." />
    



    

  <link rel="assets" href="https://github.githubassets.com/">
  

  <meta name="request-id" content="D652:1594:BC1F52:C8B3A3:6241C839" data-pjax-transient="true"/><meta name="html-safe-nonce" content="d00260822bf70abe1eb979b93d4b4a7fa3057413fb9ae4373592d32813ea568c" data-pjax-transient="true"/><meta name="visitor-payload" content="eyJyZWZlcnJlciI6IiIsInJlcXVlc3RfaWQiOiJENjUyOjE1OTQ6QkMxRjUyOkM4QjNBMzo2MjQxQzgzOSIsInZpc2l0b3JfaWQiOiI2MDQwNDU5NzQ5MjUyNzc4MDQyIiwicmVnaW9uX2VkZ2UiOiJmcmEiLCJyZWdpb25fcmVuZGVyIjoiZnJhIn0=" data-pjax-transient="true"/><meta name="visitor-hmac" content="ff3520ad1b3f15fe98cab02a8a89aa8e0264b62fcb61af2d86a47198e7cd5116" data-pjax-transient="true"/>

    <meta name="hovercard-subject-tag" content="repository:59398169" data-pjax-transient>


  <meta name="github-keyboard-shortcuts" content="repository,source-code" data-pjax-transient="true" />

  

  <meta name="selected-link" value="repo_source" data-pjax-transient>

    <meta name="google-site-verification" content="c1kuD-K2HIVF635lypcsWPoD4kilo5-jA_wBFyT4uMY">
  <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
  <meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
  <meta name="google-site-verification" content="GXs5KoUUkNCoaAZn7wPN-t01Pywp9M3sEjnt_3_ZWPc">

<meta name="octolytics-url" content="https://collector.github.com/github/collect" />

  <meta name="analytics-location" content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-pjax-transient="true" />

  




  

      <meta name="hostname" content="github.com">
    <meta name="user-login" content="">



      <meta name="expected-hostname" content="github.com">


    <meta name="enabled-features" content="MARKETPLACE_PENDING_INSTALLATIONS">


  <meta http-equiv="x-pjax-version" content="0b6ff9b08e9894f8a14a08acc72ba434b1c415a9dc43def502e761ecf7d53018" data-turbo-track="reload">
  <meta http-equiv="x-pjax-csp-version" content="ad743a89372c421844ffcba4fd906096b07b7fd7c2a57617ff2d2f0fdf463e56" data-turbo-track="reload">
  <meta http-equiv="x-pjax-css-version" content="86d2d4ea10a220ddb623a8bb048d6dc4179303cad0c435c106140a1347c4628f" data-turbo-track="reload">
  <meta http-equiv="x-pjax-js-version" content="7096bfcb0bf7c93d3844820e02b968d3df4b10ebb5f65767fe68d6906873d362" data-turbo-track="reload">
  

    
  <meta name="go-import" content="github.com/dgryski/go-perfbook git https://github.com/dgryski/go-perfbook.git">

  <meta name="octolytics-dimension-user_id" content="970862" /><meta name="octolytics-dimension-user_login" content="dgryski" /><meta name="octolytics-dimension-repository_id" content="59398169" /><meta name="octolytics-dimension-repository_nwo" content="dgryski/go-perfbook" /><meta name="octolytics-dimension-repository_public" content="true" /><meta name="octolytics-dimension-repository_is_fork" content="false" /><meta name="octolytics-dimension-repository_network_root_id" content="59398169" /><meta name="octolytics-dimension-repository_network_root_nwo" content="dgryski/go-perfbook" />



    <link rel="canonical" href="https://github.com/dgryski/go-perfbook/blob/master/performance.md" data-pjax-transient>


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <meta name="browser-optimizely-client-errors-url" content="https://api.github.com/_private/browser/optimizely_client/errors">

  <link rel="mask-icon" href="https://github.githubassets.com/pinned-octocat.svg" color="#000000">
  <link rel="alternate icon" class="js-site-favicon" type="image/png" href="https://github.githubassets.com/favicons/favicon.png">
  <link rel="icon" class="js-site-favicon" type="image/svg+xml" href="https://github.githubassets.com/favicons/favicon.svg">

<meta name="theme-color" content="#1e2327">
<meta name="color-scheme" content="light dark" />


  <link rel="manifest" href="/manifest.json" crossOrigin="use-credentials">

  </head>

  <body class="logged-out env-production page-responsive page-blob" style="word-wrap: break-word;">
    

    <div class="position-relative js-header-wrapper ">
      <a href="#start-of-content" class="px-2 py-4 color-bg-accent-emphasis color-fg-on-emphasis show-on-focus js-skip-to-content">Skip to content</a>
      <span data-view-component="true" class="progress-pjax-loader js-pjax-loader-bar Progress position-fixed width-full">
    <span style="width: 0%;" data-view-component="true" class="Progress-item progress-pjax-loader-bar left-0 top-0 color-bg-accent-emphasis"></span>
</span>      
      


        

            <header class="Header-old header-logged-out js-details-container Details position-relative f4 py-2" role="banner">
  <div class="container-xl d-lg-flex flex-items-center p-responsive">
    <div class="d-flex flex-justify-between flex-items-center">
      <a class="mr-4 color-fg-inherit" href="https://github.com/" aria-label="Homepage" data-ga-click="(Logged out) Header, go to homepage, icon:logo-wordmark">
        <svg height="32" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="32" data-view-component="true" class="octicon octicon-mark-github">
    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
</svg>
      </a>

        <div class="d-lg-none css-truncate css-truncate-target width-fit p-2">
          

        </div>

      <div class="d-flex flex-items-center">
            <a href="/signup?ref_cta=Sign+up&amp;ref_loc=header+logged+out&amp;ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&amp;source=header-repo"
              class="d-inline-block d-lg-none f5 no-underline border color-border-default rounded-2 px-2 py-1 mr-3 mr-sm-5 color-fg-inherit"
              data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="e8abf98057770ab73b6e0aeaf28d497bbf1452893562ab3d63381bec61acfc0d"
            >
              Sign&nbsp;up
            </a>

        <button aria-label="Toggle navigation" aria-expanded="false" type="button" data-view-component="true" class="js-details-target btn-link d-lg-none mt-1 color-fg-inherit">  <svg aria-hidden="true" height="24" viewBox="0 0 16 16" version="1.1" width="24" data-view-component="true" class="octicon octicon-three-bars">
    <path fill-rule="evenodd" d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z"></path>
</svg>
</button>      </div>
    </div>

    <div class="HeaderMenu HeaderMenu--logged-out position-fixed top-0 right-0 bottom-0 height-fit position-lg-relative d-lg-flex flex-justify-between flex-items-center flex-auto">
      <div class="d-flex d-lg-none flex-justify-end border-bottom color-bg-subtle p-3">
        <button aria-label="Toggle navigation" aria-expanded="false" type="button" data-view-component="true" class="js-details-target btn-link">  <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-x color-fg-muted">
    <path fill-rule="evenodd" d="M5.72 5.72a.75.75 0 011.06 0L12 10.94l5.22-5.22a.75.75 0 111.06 1.06L13.06 12l5.22 5.22a.75.75 0 11-1.06 1.06L12 13.06l-5.22 5.22a.75.75 0 01-1.06-1.06L10.94 12 5.72 6.78a.75.75 0 010-1.06z"></path>
</svg>
</button>      </div>

        <nav class="mt-0 px-3 px-lg-0 mb-5 mb-lg-0" aria-label="Global">
          <ul class="d-lg-flex list-style-none">
              <li class="mr-0 mr-lg-3 position-relative flex-wrap flex-justify-between flex-items-center border-bottom border-lg-bottom-0 d-block d-lg-flex flex-lg-nowrap flex-lg-items-center">
    <details class="HeaderMenu-details details-overlay details-reset width-full">
      <summary class="HeaderMenu-summary HeaderMenu-link px-0 py-3 border-0 no-wrap d-block d-lg-inline-block">
        Product
        <svg x="0" y="0" viewBox="0 0 14 8" xml:space="preserve" fill="none" class="icon-chevon-down-mktg position-absolute position-lg-relative"><path d="M1,1l6.2,6L13,1"></path></svg>
      </summary>
      <div class="dropdown-menu flex-auto rounded px-0 mt-0 pb-4 p-lg-4 position-relative position-lg-absolute left-0 left-lg-n4">
        <ul class="list-style-none f5 pb-1">
              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--primary text-bold py-2" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Features&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Features;&quot;}" href="/features">
      Features
</a>  </li>

              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Mobile&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Mobile;&quot;}" href="/mobile">
      Mobile
</a>  </li>

              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Actions&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Actions;&quot;}" href="/features/actions">
      Actions
</a>  </li>

              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Codespaces&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Codespaces;&quot;}" href="/features/codespaces">
      Codespaces
</a>  </li>

              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Packages&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Packages;&quot;}" href="/features/packages">
      Packages
</a>  </li>

              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Security&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Security;&quot;}" href="/features/security">
      Security
</a>  </li>

              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Code review&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Code review;&quot;}" href="/features/code-review">
      Code review
</a>  </li>

              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Issues&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Issues;&quot;}" href="/features/issues">
      Issues
</a>  </li>

              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Integrations&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Integrations;&quot;}" href="/features/integrations">
      Integrations
</a>  </li>

              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--primary text-bold border-top pt-4 pb-2 mt-3" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to GitHub Sponsors&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:GitHub Sponsors;&quot;}" href="/sponsors">
      GitHub Sponsors
</a>  </li>

              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--primary text-bold py-2" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Customer stories&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Customer stories;&quot;}" href="/customer-stories">
      Customer stories
</a>  </li>

        </ul>
      </div>
    </details>
</li>


              <li class="mr-0 mr-lg-3 position-relative flex-wrap flex-justify-between flex-items-center border-bottom border-lg-bottom-0 d-block d-lg-flex flex-lg-nowrap flex-lg-items-center">
    <a class="HeaderMenu-link no-underline py-3 d-block d-lg-inline-block" data-analytics-event="{&quot;category&quot;:&quot;Header menu top item (logged out)&quot;,&quot;action&quot;:&quot;click to go to Team&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Team;&quot;}" href="/team">Team</a>
</li>

              <li class="mr-0 mr-lg-3 position-relative flex-wrap flex-justify-between flex-items-center border-bottom border-lg-bottom-0 d-block d-lg-flex flex-lg-nowrap flex-lg-items-center">
    <a class="HeaderMenu-link no-underline py-3 d-block d-lg-inline-block" data-analytics-event="{&quot;category&quot;:&quot;Header menu top item (logged out)&quot;,&quot;action&quot;:&quot;click to go to Enterprise&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Enterprise;&quot;}" href="/enterprise">Enterprise</a>
</li>


            <li class="mr-0 mr-lg-3 position-relative flex-wrap flex-justify-between flex-items-center border-bottom border-lg-bottom-0 d-block d-lg-flex flex-lg-nowrap flex-lg-items-center">
    <details class="HeaderMenu-details details-overlay details-reset width-full">
      <summary class="HeaderMenu-summary HeaderMenu-link px-0 py-3 border-0 no-wrap d-block d-lg-inline-block">
        Explore
        <svg x="0" y="0" viewBox="0 0 14 8" xml:space="preserve" fill="none" class="icon-chevon-down-mktg position-absolute position-lg-relative"><path d="M1,1l6.2,6L13,1"></path></svg>
      </summary>
      <div class="dropdown-menu flex-auto rounded px-0 mt-0 pb-4 p-lg-4 position-relative position-lg-absolute left-0 left-lg-n4">
        <ul class="list-style-none f5 pb-1">
              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--primary text-bold py-2" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Explore&quot;,&quot;action&quot;:&quot;click to go to Explore GitHub&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Explore GitHub;&quot;}" href="/explore">
      Explore GitHub
</a>  </li>

              <li class="color-fg-muted text-normal f6 text-mono mb-1 border-top pt-3 mt-3 mb-1">Learn and contribute</li>

              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Explore&quot;,&quot;action&quot;:&quot;click to go to Topics&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Topics;&quot;}" href="/topics">
      Topics
</a>  </li>

              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Explore&quot;,&quot;action&quot;:&quot;click to go to Collections&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Collections;&quot;}" href="/collections">
      Collections
</a>  </li>

              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Explore&quot;,&quot;action&quot;:&quot;click to go to Trending&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Trending;&quot;}" href="/trending">
      Trending
</a>  </li>

              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Explore&quot;,&quot;action&quot;:&quot;click to go to Learning Lab&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Learning Lab;&quot;}" href="https://lab.github.com/">
      Learning Lab
</a>  </li>

              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Explore&quot;,&quot;action&quot;:&quot;click to go to Open source guides&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Open source guides;&quot;}" href="https://opensource.guide">
      Open source guides
</a>  </li>

              <li class="color-fg-muted text-normal f6 text-mono mb-1 border-top pt-3 mt-3 mb-1">Connect with others</li>

              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Explore&quot;,&quot;action&quot;:&quot;click to go to The ReadME Project&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:The ReadME Project;&quot;}" href="/readme">
      The ReadME Project
</a>  </li>

              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Explore&quot;,&quot;action&quot;:&quot;click to go to Events&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Events;&quot;}" href="/events">
      Events
</a>  </li>

              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Explore&quot;,&quot;action&quot;:&quot;click to go to Community forum&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Community forum;&quot;}" href="https://github.community">
      Community forum
</a>  </li>

              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Explore&quot;,&quot;action&quot;:&quot;click to go to GitHub Education&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:GitHub Education;&quot;}" href="https://education.github.com">
      GitHub Education
</a>  </li>

              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Explore&quot;,&quot;action&quot;:&quot;click to go to GitHub Stars program&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:GitHub Stars program;&quot;}" href="https://stars.github.com">
      GitHub Stars program
</a>  </li>

        </ul>
      </div>
    </details>
</li>


            <li class="mr-0 mr-lg-3 position-relative flex-wrap flex-justify-between flex-items-center border-bottom border-lg-bottom-0 d-block d-lg-flex flex-lg-nowrap flex-lg-items-center">
    <a class="HeaderMenu-link no-underline py-3 d-block d-lg-inline-block" data-analytics-event="{&quot;category&quot;:&quot;Header menu top item (logged out)&quot;,&quot;action&quot;:&quot;click to go to Marketplace&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Marketplace;&quot;}" href="/marketplace">Marketplace</a>
</li>


            <li class="mr-0 mr-lg-3 position-relative flex-wrap flex-justify-between flex-items-center border-bottom border-lg-bottom-0 d-block d-lg-flex flex-lg-nowrap flex-lg-items-center">
    <details class="HeaderMenu-details details-overlay details-reset width-full">
      <summary class="HeaderMenu-summary HeaderMenu-link px-0 py-3 border-0 no-wrap d-block d-lg-inline-block">
        Pricing
        <svg x="0" y="0" viewBox="0 0 14 8" xml:space="preserve" fill="none" class="icon-chevon-down-mktg position-absolute position-lg-relative"><path d="M1,1l6.2,6L13,1"></path></svg>
      </summary>
      <div class="dropdown-menu flex-auto rounded px-0 mt-0 pb-4 p-lg-4 position-relative position-lg-absolute left-0 left-lg-n4">
        <ul class="list-style-none f5 pb-1">
              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--primary text-bold py-2" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Pricing&quot;,&quot;action&quot;:&quot;click to go to Plans&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Plans;&quot;}" href="/pricing">
      Plans
</a>  </li>

              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Pricing&quot;,&quot;action&quot;:&quot;click to go to Compare plans&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Compare plans;&quot;}" href="/pricing#compare-features">
      Compare plans
</a>  </li>

              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Pricing&quot;,&quot;action&quot;:&quot;click to go to Contact Sales&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Contact Sales;&quot;}" href="https://github.com/enterprise/contact">
      Contact Sales
</a>  </li>

              <li>
    <a class="lh-condensed-ultra d-block no-underline position-relative Link--primary text-bold border-top pt-4 pb-2 mt-3" data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Pricing&quot;,&quot;action&quot;:&quot;click to go to Education&quot;,&quot;label&quot;:&quot;ref_page:/dgryski/go-perfbook/blob/master/performance.md;ref_cta:Education;&quot;}" href="https://education.github.com">
      Education
</a>  </li>

        </ul>
      </div>
    </details>
</li>

          </ul>
        </nav>

      <div class="d-lg-flex flex-items-center px-3 px-lg-0 text-center text-lg-left">
          <div class="d-lg-flex min-width-0 mb-3 mb-lg-0">
            



<div class="header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to"
>
  <div class="position-relative">
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-site-search-form" role="search" aria-label="Site" data-scope-type="Repository" data-scope-id="59398169" data-scoped-search-url="/dgryski/go-perfbook/search" data-owner-scoped-search-url="/users/dgryski/search" data-unscoped-search-url="/search" data-turbo="false" action="/dgryski/go-perfbook/search" accept-charset="UTF-8" method="get">
      <label class="form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center">
        <input type="text"
          class="form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
          data-hotkey=s,/
          name="q"
          data-test-selector="nav-search-input"
          placeholder="Search"
          data-unscoped-placeholder="Search GitHub"
          data-scoped-placeholder="Search"
          autocapitalize="off"
          role="combobox"
          aria-haspopup="listbox"
          aria-expanded="false"
          aria-autocomplete="list"
          aria-controls="jump-to-results"
          aria-label="Search"
          data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations"
          spellcheck="false"
          autocomplete="off"
        >
        <input type="hidden" data-csrf="true" class="js-data-jump-to-suggestions-path-csrf" value="nPNFDeVySB6Kk+4e0c9LJpU/kX3r95oat48tyaEuuaaoyko3I9M/+XXyoTDvVaQfO2VW3rHxaRQFwt6/t3piHg==" />
        <input type="hidden" class="js-site-search-type-field" name="type" >
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="20" aria-hidden="true" class="mr-1 header-search-key-slash"><path fill="none" stroke="#979A9C" opacity=".4" d="M3.5.5h12c1.7 0 3 1.3 3 3v13c0 1.7-1.3 3-3 3h-12c-1.7 0-3-1.3-3-3v-13c0-1.7 1.3-3 3-3z"></path><path fill="#979A9C" d="M11.8 6L8 15.1h-.9L10.8 6h1z"></path></svg>


          <div class="Box position-absolute overflow-hidden d-none jump-to-suggestions js-jump-to-suggestions-container">
            
<ul class="d-none js-jump-to-suggestions-template-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-suggestion" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="" data-item-type="suggestion">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg title="Repository" aria-label="Repository" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo js-jump-to-octicon-repo d-none flex-shrink-0">
    <path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path>
</svg>
      <svg title="Project" aria-label="Project" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-project js-jump-to-octicon-project d-none flex-shrink-0">
    <path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path>
</svg>
      <svg title="Search" aria-label="Search" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search js-jump-to-octicon-search d-none flex-shrink-0">
    <path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path>
</svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-2 flex-shrink-0 color-bg-subtle px-1 color-fg-muted ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle"></span>
    </div>

    <div aria-hidden="true" class="border rounded-2 flex-shrink-0 color-bg-subtle px-1 color-fg-muted ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle"></span>
    </div>
  </a>
</li>

</ul>

<ul class="d-none js-jump-to-no-results-template-container">
  <li class="d-flex flex-justify-center flex-items-center f5 d-none js-jump-to-suggestion p-2">
    <span class="color-fg-muted">No suggested jump to results</span>
  </li>
</ul>

<ul id="jump-to-results" role="listbox" class="p-0 m-0 js-navigation-container jump-to-suggestions-results-container js-jump-to-suggestions-results-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-scoped-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="" data-item-type="scoped_search">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg title="Repository" aria-label="Repository" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo js-jump-to-octicon-repo d-none flex-shrink-0">
    <path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path>
</svg>
      <svg title="Project" aria-label="Project" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-project js-jump-to-octicon-project d-none flex-shrink-0">
    <path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path>
</svg>
      <svg title="Search" aria-label="Search" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search js-jump-to-octicon-search d-none flex-shrink-0">
    <path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path>
</svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-2 flex-shrink-0 color-bg-subtle px-1 color-fg-muted ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle"></span>
    </div>

    <div aria-hidden="true" class="border rounded-2 flex-shrink-0 color-bg-subtle px-1 color-fg-muted ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle"></span>
    </div>
  </a>
</li>

  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-owner-scoped-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="" data-item-type="owner_scoped_search">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg title="Repository" aria-label="Repository" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo js-jump-to-octicon-repo d-none flex-shrink-0">
    <path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path>
</svg>
      <svg title="Project" aria-label="Project" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-project js-jump-to-octicon-project d-none flex-shrink-0">
    <path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path>
</svg>
      <svg title="Search" aria-label="Search" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search js-jump-to-octicon-search d-none flex-shrink-0">
    <path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path>
</svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-2 flex-shrink-0 color-bg-subtle px-1 color-fg-muted ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this user">
        In this user
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle"></span>
    </div>

    <div aria-hidden="true" class="border rounded-2 flex-shrink-0 color-bg-subtle px-1 color-fg-muted ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle"></span>
    </div>
  </a>
</li>

  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-global-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="" data-item-type="global_search">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg title="Repository" aria-label="Repository" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo js-jump-to-octicon-repo d-none flex-shrink-0">
    <path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path>
</svg>
      <svg title="Project" aria-label="Project" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-project js-jump-to-octicon-project d-none flex-shrink-0">
    <path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path>
</svg>
      <svg title="Search" aria-label="Search" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search js-jump-to-octicon-search d-none flex-shrink-0">
    <path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path>
</svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-2 flex-shrink-0 color-bg-subtle px-1 color-fg-muted ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle"></span>
    </div>

    <div aria-hidden="true" class="border rounded-2 flex-shrink-0 color-bg-subtle px-1 color-fg-muted ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle"></span>
    </div>
  </a>
</li>


</ul>

          </div>
      </label>
</form>  </div>
</div>

          </div>

        <div class="position-relative mr-3 mb-4 mb-lg-0 d-inline-block">
          <a href="/login?return_to=https%3A%2F%2Fgithub.com%2Fdgryski%2Fgo-perfbook%2Fblob%2Fmaster%2Fperformance.md"
            class="HeaderMenu-link flex-shrink-0 no-underline"
            data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="772e623c2fe1685865d91fc578a2c79f8fe2aa20a54da34968d9ce596d61806f"
            data-ga-click="(Logged out) Header, clicked Sign in, text:sign-in">
            Sign in
          </a>
        </div>

          <a href="/signup?ref_cta=Sign+up&amp;ref_loc=header+logged+out&amp;ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&amp;source=header-repo&amp;source_repo=dgryski%2Fgo-perfbook"
            class="HeaderMenu-link flex-shrink-0 d-inline-block no-underline border color-border-default rounded px-2 py-1"
            data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="772e623c2fe1685865d91fc578a2c79f8fe2aa20a54da34968d9ce596d61806f"
            data-analytics-event="{&quot;category&quot;:&quot;Sign up&quot;,&quot;action&quot;:&quot;click to sign up for account&quot;,&quot;label&quot;:&quot;ref_page:/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show;ref_cta:Sign up;ref_loc:header logged out&quot;}"
          >
            Sign up
          </a>
      </div>
    </div>
  </div>
</header>

    </div>

  <div id="start-of-content" class="show-on-focus"></div>







    <div data-pjax-replace id="js-flash-container">


  <template class="js-flash-template">
    <div class="flash flash-full  {{ className }}">
  <div class="px-2" >
    <button class="flash-close js-flash-close" type="button" aria-label="Dismiss this message">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg>
    </button>
    
      <div>{{ message }}</div>

  </div>
</div>
  </template>
</div>


    

  <include-fragment class="js-notification-shelf-include-fragment" data-base-src="https://github.com/notifications/beta/shelf"></include-fragment>





  <div
    class="application-main "
    data-commit-hovercards-enabled
    data-discussion-hovercards-enabled
    data-issue-and-pr-hovercards-enabled
  >
        <div itemscope itemtype="http://schema.org/SoftwareSourceCode" class="">
    <main id="js-repo-pjax-container" data-pjax-container >
      

    






  <div id="repository-container-header" class="pt-3 hide-full-screen" style="background-color: var(--color-page-header-bg);" data-pjax-replace>

      <div class="d-flex mb-3 px-3 px-md-4 px-lg-5">

        <div class="flex-auto min-width-0 width-fit mr-3">
            <h1 class=" d-flex flex-wrap flex-items-center wb-break-word f3 text-normal">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo color-fg-muted mr-2">
    <path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path>
</svg>
  <span class="author flex-self-stretch" itemprop="author">
    <a class="url fn" rel="author" data-hovercard-type="user" data-hovercard-url="/users/dgryski/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/dgryski">dgryski</a>
  </span>
  <span class="mx-1 flex-self-stretch color-fg-muted">/</span>
  <strong itemprop="name" class="mr-2 flex-self-stretch">
    <a data-pjax="#repo-content-pjax-container" href="/dgryski/go-perfbook">go-perfbook</a>
  </strong>

  <span></span><span class="Label Label--secondary v-align-middle mr-1">Public</span>
</h1>

        </div>

          <ul class="pagehead-actions flex-shrink-0 d-none d-md-inline" style="padding: 2px 0;">
      <li>
        <include-fragment src="/dgryski/go-perfbook/sponsor_button"></include-fragment>
      </li>

  

  <li>
      <a href="/login?return_to=%2Fdgryski%2Fgo-perfbook" rel="nofollow" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;notification subscription menu watch&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="ca05b06c3d41750c6ef545a6248afd973bec5e1a1d2ef80cdb10df807fbfdbff" aria-label="You must be signed in to change notification settings" data-view-component="true" class="tooltipped tooltipped-s btn-sm btn">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-bell mr-2">
    <path d="M8 16a2 2 0 001.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 008 16z"></path><path fill-rule="evenodd" d="M8 1.5A3.5 3.5 0 004.5 5v2.947c0 .346-.102.683-.294.97l-1.703 2.556a.018.018 0 00-.003.01l.001.006c0 .002.002.004.004.006a.017.017 0 00.006.004l.007.001h10.964l.007-.001a.016.016 0 00.006-.004.016.016 0 00.004-.006l.001-.007a.017.017 0 00-.003-.01l-1.703-2.554a1.75 1.75 0 01-.294-.97V5A3.5 3.5 0 008 1.5zM3 5a5 5 0 0110 0v2.947c0 .05.015.098.042.139l1.703 2.555A1.518 1.518 0 0113.482 13H2.518a1.518 1.518 0 01-1.263-2.36l1.703-2.554A.25.25 0 003 7.947V5z"></path>
</svg>Notifications
</a>
  </li>

  <li>
        <a href="/login?return_to=%2Fdgryski%2Fgo-perfbook" rel="nofollow" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;repo details fork button&quot;,&quot;repository_id&quot;:59398169,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c2178c09fdc854526a341957530ecbb4425e11892d6d5ce0fa2570b5e4ddcf4a" aria-label="You must be signed in to fork a repository" data-view-component="true" class="tooltipped tooltipped-s btn-sm btn">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo-forked mr-2">
    <path fill-rule="evenodd" d="M5 3.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm0 2.122a2.25 2.25 0 10-1.5 0v.878A2.25 2.25 0 005.75 8.5h1.5v2.128a2.251 2.251 0 101.5 0V8.5h1.5a2.25 2.25 0 002.25-2.25v-.878a2.25 2.25 0 10-1.5 0v.878a.75.75 0 01-.75.75h-4.5A.75.75 0 015 6.25v-.878zm3.75 7.378a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm3-8.75a.75.75 0 100-1.5.75.75 0 000 1.5z"></path>
</svg>Fork
    <span id="repo-network-counter" data-pjax-replace="true" title="542" data-view-component="true" class="Counter">542</span>
</a>
  </li>

  <li>
        <div data-view-component="true" class="BtnGroup d-flex">
      <a href="/login?return_to=%2Fdgryski%2Fgo-perfbook" rel="nofollow" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;star button&quot;,&quot;repository_id&quot;:59398169,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="1ff4891e3348367d1a085e1a5d330b78e0da99527be70fa7d4494dea004bd0d0" aria-label="You must be signed in to star a repository" data-view-component="true" class="tooltipped tooltipped-s btn-sm btn BtnGroup-item">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-star v-align-text-bottom d-inline-block mr-2">
    <path fill-rule="evenodd" d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25zm0 2.445L6.615 5.5a.75.75 0 01-.564.41l-3.097.45 2.24 2.184a.75.75 0 01.216.664l-.528 3.084 2.769-1.456a.75.75 0 01.698 0l2.77 1.456-.53-3.084a.75.75 0 01.216-.664l2.24-2.183-3.096-.45a.75.75 0 01-.564-.41L8 2.694v.001z"></path>
</svg><span data-view-component="true" class="d-inline">
          Star
</span>          <span id="repo-stars-counter-star" aria-label="9734 users starred this repository" data-singular-suffix="user starred this repository" data-plural-suffix="users starred this repository" data-pjax-replace="true" title="9,734" data-view-component="true" class="Counter js-social-count">9.7k</span>
</a>      <button disabled="disabled" aria-label="You must be signed in to add this repository to a list" type="button" data-view-component="true" class="btn-sm btn BtnGroup-item px-2">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-triangle-down">
    <path d="M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z"></path>
</svg>
</button></div>
  </li>

  

</ul>

      </div>

      <div id="responsive-meta-container" data-pjax-replace>
</div>


        
<nav data-pjax="#js-repo-pjax-container" aria-label="Repository" data-view-component="true" class="js-repo-nav js-sidenav-container-pjax js-responsive-underlinenav overflow-hidden UnderlineNav px-3 px-md-4 px-lg-5">

  <ul data-view-component="true" class="UnderlineNav-body list-style-none">
      <li data-view-component="true" class="d-inline-flex">
  <a id="code-tab" href="/dgryski/go-perfbook" data-tab-item="i0code-tab" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages repo_deployments /dgryski/go-perfbook" data-pjax="#repo-content-pjax-container" data-hotkey="g c" data-ga-click="Repository, Navigation click, Code tab" aria-current="page" data-view-component="true" class="UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item selected">
    
                  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code UnderlineNav-octicon d-none d-sm-inline">
    <path fill-rule="evenodd" d="M4.72 3.22a.75.75 0 011.06 1.06L2.06 8l3.72 3.72a.75.75 0 11-1.06 1.06L.47 8.53a.75.75 0 010-1.06l4.25-4.25zm6.56 0a.75.75 0 10-1.06 1.06L13.94 8l-3.72 3.72a.75.75 0 101.06 1.06l4.25-4.25a.75.75 0 000-1.06l-4.25-4.25z"></path>
</svg>
          <span data-content="Code">Code</span>
            <span id="code-repo-tab-count" data-pjax-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="issues-tab" href="/dgryski/go-perfbook/issues" data-tab-item="i1issues-tab" data-selected-links="repo_issues repo_labels repo_milestones /dgryski/go-perfbook/issues" data-pjax="#repo-content-pjax-container" data-hotkey="g i" data-ga-click="Repository, Navigation click, Issues tab" data-view-component="true" class="UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
                  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-issue-opened UnderlineNav-octicon d-none d-sm-inline">
    <path d="M8 9.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path><path fill-rule="evenodd" d="M8 0a8 8 0 100 16A8 8 0 008 0zM1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0z"></path>
</svg>
          <span data-content="Issues">Issues</span>
            <span id="issues-repo-tab-count" data-pjax-replace="" title="5" data-view-component="true" class="Counter">5</span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="pull-requests-tab" href="/dgryski/go-perfbook/pulls" data-tab-item="i2pull-requests-tab" data-selected-links="repo_pulls checks /dgryski/go-perfbook/pulls" data-pjax="#repo-content-pjax-container" data-hotkey="g p" data-ga-click="Repository, Navigation click, Pull requests tab" data-view-component="true" class="UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
                  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-pull-request UnderlineNav-octicon d-none d-sm-inline">
    <path fill-rule="evenodd" d="M7.177 3.073L9.573.677A.25.25 0 0110 .854v4.792a.25.25 0 01-.427.177L7.177 3.427a.25.25 0 010-.354zM3.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122v5.256a2.251 2.251 0 11-1.5 0V5.372A2.25 2.25 0 011.5 3.25zM11 2.5h-1V4h1a1 1 0 011 1v5.628a2.251 2.251 0 101.5 0V5A2.5 2.5 0 0011 2.5zm1 10.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0zM3.75 12a.75.75 0 100 1.5.75.75 0 000-1.5z"></path>
</svg>
          <span data-content="Pull requests">Pull requests</span>
            <span id="pull-requests-repo-tab-count" data-pjax-replace="" title="3" data-view-component="true" class="Counter">3</span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="actions-tab" href="/dgryski/go-perfbook/actions" data-tab-item="i3actions-tab" data-selected-links="repo_actions /dgryski/go-perfbook/actions" data-pjax="#repo-content-pjax-container" data-hotkey="g a" data-ga-click="Repository, Navigation click, Actions tab" data-view-component="true" class="UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
                  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-play UnderlineNav-octicon d-none d-sm-inline">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM6.379 5.227A.25.25 0 006 5.442v5.117a.25.25 0 00.379.214l4.264-2.559a.25.25 0 000-.428L6.379 5.227z"></path>
</svg>
          <span data-content="Actions">Actions</span>
            <span id="actions-repo-tab-count" data-pjax-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="projects-tab" href="/dgryski/go-perfbook/projects?type=beta" data-tab-item="i4projects-tab" data-selected-links="repo_projects new_repo_project repo_project /dgryski/go-perfbook/projects?type=beta" data-pjax="#repo-content-pjax-container" data-hotkey="g b" data-ga-click="Repository, Navigation click, Projects tab" data-view-component="true" class="UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
                  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-table UnderlineNav-octicon d-none d-sm-inline">
    <path fill-rule="evenodd" d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v3.585a.746.746 0 010 .83v8.085A1.75 1.75 0 0114.25 16H6.309a.748.748 0 01-1.118 0H1.75A1.75 1.75 0 010 14.25V6.165a.746.746 0 010-.83V1.75zM1.5 6.5v7.75c0 .138.112.25.25.25H5v-8H1.5zM5 5H1.5V1.75a.25.25 0 01.25-.25H5V5zm1.5 1.5v8h7.75a.25.25 0 00.25-.25V6.5h-8zm8-1.5h-8V1.5h7.75a.25.25 0 01.25.25V5z"></path>
</svg>
          <span data-content="Projects">Projects</span>
            <span id="projects-repo-tab-count" data-pjax-replace="" title="0" hidden="hidden" data-view-component="true" class="Counter">0</span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="wiki-tab" href="/dgryski/go-perfbook/wiki" data-tab-item="i5wiki-tab" data-selected-links="repo_wiki /dgryski/go-perfbook/wiki" data-pjax="#repo-content-pjax-container" data-hotkey="g w" data-ga-click="Repository, Navigation click, Wikis tab" data-view-component="true" class="UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
                  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-book UnderlineNav-octicon d-none d-sm-inline">
    <path fill-rule="evenodd" d="M0 1.75A.75.75 0 01.75 1h4.253c1.227 0 2.317.59 3 1.501A3.744 3.744 0 0111.006 1h4.245a.75.75 0 01.75.75v10.5a.75.75 0 01-.75.75h-4.507a2.25 2.25 0 00-1.591.659l-.622.621a.75.75 0 01-1.06 0l-.622-.621A2.25 2.25 0 005.258 13H.75a.75.75 0 01-.75-.75V1.75zm8.755 3a2.25 2.25 0 012.25-2.25H14.5v9h-3.757c-.71 0-1.4.201-1.992.572l.004-7.322zm-1.504 7.324l.004-5.073-.002-2.253A2.25 2.25 0 005.003 2.5H1.5v9h3.757a3.75 3.75 0 011.994.574z"></path>
</svg>
          <span data-content="Wiki">Wiki</span>
            <span id="wiki-repo-tab-count" data-pjax-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="security-tab" href="/dgryski/go-perfbook/security" data-tab-item="i6security-tab" data-selected-links="security overview alerts policy token_scanning code_scanning /dgryski/go-perfbook/security" data-pjax="#repo-content-pjax-container" data-hotkey="g s" data-ga-click="Repository, Navigation click, Security tab" data-view-component="true" class="UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
                  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-shield UnderlineNav-octicon d-none d-sm-inline">
    <path fill-rule="evenodd" d="M7.467.133a1.75 1.75 0 011.066 0l5.25 1.68A1.75 1.75 0 0115 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.7 1.7 0 01-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 011.217-1.667l5.25-1.68zm.61 1.429a.25.25 0 00-.153 0l-5.25 1.68a.25.25 0 00-.174.238V7c0 1.358.275 2.666 1.057 3.86.784 1.194 2.121 2.34 4.366 3.297a.2.2 0 00.154 0c2.245-.956 3.582-2.104 4.366-3.298C13.225 9.666 13.5 8.36 13.5 7V3.48a.25.25 0 00-.174-.237l-5.25-1.68zM9 10.5a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.75a.75.75 0 10-1.5 0v3a.75.75 0 001.5 0v-3z"></path>
</svg>
          <span data-content="Security">Security</span>
            <include-fragment src="/dgryski/go-perfbook/security/overall-count" accept="text/fragment+html"></include-fragment>

    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="insights-tab" href="/dgryski/go-perfbook/pulse" data-tab-item="i7insights-tab" data-selected-links="repo_graphs repo_contributors dependency_graph dependabot_updates pulse people community /dgryski/go-perfbook/pulse" data-pjax="#repo-content-pjax-container" data-ga-click="Repository, Navigation click, Insights tab" data-view-component="true" class="UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
                  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-graph UnderlineNav-octicon d-none d-sm-inline">
    <path fill-rule="evenodd" d="M1.5 1.75a.75.75 0 00-1.5 0v12.5c0 .414.336.75.75.75h14.5a.75.75 0 000-1.5H1.5V1.75zm14.28 2.53a.75.75 0 00-1.06-1.06L10 7.94 7.53 5.47a.75.75 0 00-1.06 0L3.22 8.72a.75.75 0 001.06 1.06L7 7.06l2.47 2.47a.75.75 0 001.06 0l5.25-5.25z"></path>
</svg>
          <span data-content="Insights">Insights</span>
            <span id="insights-repo-tab-count" data-pjax-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
</ul>
    <div style="visibility:hidden;" data-view-component="true" class="UnderlineNav-actions js-responsive-underlinenav-overflow position-absolute pr-3 pr-md-4 pr-lg-5 right-0">      <details data-view-component="true" class="details-overlay details-reset position-relative">
  <summary role="button" data-view-component="true">          <div class="UnderlineNav-item mr-0 border-0">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
            <span class="sr-only">More</span>
          </div>
</summary>
  <div data-view-component="true">          <details-menu role="menu" data-view-component="true" class="dropdown-menu dropdown-menu-sw">
  
            <ul>
                <li data-menu-item="i0code-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item selected dropdown-item" aria-current="page" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages repo_deployments /dgryski/go-perfbook" href="/dgryski/go-perfbook">
                    Code
</a>                </li>
                <li data-menu-item="i1issues-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links="repo_issues repo_labels repo_milestones /dgryski/go-perfbook/issues" href="/dgryski/go-perfbook/issues">
                    Issues
</a>                </li>
                <li data-menu-item="i2pull-requests-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links="repo_pulls checks /dgryski/go-perfbook/pulls" href="/dgryski/go-perfbook/pulls">
                    Pull requests
</a>                </li>
                <li data-menu-item="i3actions-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links="repo_actions /dgryski/go-perfbook/actions" href="/dgryski/go-perfbook/actions">
                    Actions
</a>                </li>
                <li data-menu-item="i4projects-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links="repo_projects new_repo_project repo_project /dgryski/go-perfbook/projects?type=beta" href="/dgryski/go-perfbook/projects?type=beta">
                    Projects
</a>                </li>
                <li data-menu-item="i5wiki-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links="repo_wiki /dgryski/go-perfbook/wiki" href="/dgryski/go-perfbook/wiki">
                    Wiki
</a>                </li>
                <li data-menu-item="i6security-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links="security overview alerts policy token_scanning code_scanning /dgryski/go-perfbook/security" href="/dgryski/go-perfbook/security">
                    Security
</a>                </li>
                <li data-menu-item="i7insights-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links="repo_graphs repo_contributors dependency_graph dependabot_updates pulse people community /dgryski/go-perfbook/pulse" href="/dgryski/go-perfbook/pulse">
                    Insights
</a>                </li>
            </ul>

</details-menu></div>
</details></div>
</nav>
  </div>



<div id="repo-content-pjax-container" class="repository-content " >
  
  


  
      
  <div class="clearfix container-xl px-3 px-md-4 px-lg-5 mt-4">
    
    
<div>
  




    
<a class="d-none js-permalink-shortcut" data-hotkey="y" href="/dgryski/go-perfbook/blob/648834a9bd8a0ffe8202efaf40b6edd57cc17026/performance.md">Permalink</a>

<div class="d-flex flex-items-start flex-shrink-0 pb-3 flex-wrap flex-md-nowrap flex-justify-between flex-md-justify-start">
  
<div class="position-relative">
  <details class="details-reset details-overlay mr-0 mb-0 " id="branch-select-menu">
    <summary class="btn css-truncate"
            data-hotkey="w"
            title="Switch branches or tags">
      <svg text="gray" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-branch">
    <path fill-rule="evenodd" d="M11.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122V6A2.5 2.5 0 0110 8.5H6a1 1 0 00-1 1v1.128a2.251 2.251 0 11-1.5 0V5.372a2.25 2.25 0 111.5 0v1.836A2.492 2.492 0 016 7h4a1 1 0 001-1v-.628A2.25 2.25 0 019.5 3.25zM4.25 12a.75.75 0 100 1.5.75.75 0 000-1.5zM3.5 3.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0z"></path>
</svg>
      <span class="css-truncate-target" data-menu-button>master</span>
      <span class="dropdown-caret"></span>
    </summary>

      
<div class="SelectMenu">
  <div class="SelectMenu-modal">
    <header class="SelectMenu-header">
      <span class="SelectMenu-title">Switch branches/tags</span>
      <button class="SelectMenu-closeButton" type="button" data-toggle-for="branch-select-menu"><svg aria-label="Close menu" aria-hidden="false" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg></button>
    </header>

    <input-demux data-action="tab-container-change:input-demux#storeInput tab-container-changed:input-demux#updateInput">
      <tab-container class="d-flex flex-column js-branches-tags-tabs" style="min-height: 0;">
        <div class="SelectMenu-filter">
          <input data-target="input-demux.source"
                 id="context-commitish-filter-field"
                 class="SelectMenu-input form-control"
                 aria-owns="ref-list-branches"
                 data-controls-ref-menu-id="ref-list-branches"
                 autofocus
                 autocomplete="off"
                 aria-label="Filter branches/tags"
                 placeholder="Filter branches/tags"
                 type="text"
          >
        </div>

        <div class="SelectMenu-tabs" role="tablist" data-target="input-demux.control" >
          <button class="SelectMenu-tab" type="button" role="tab" aria-selected="true">Branches</button>
          <button class="SelectMenu-tab" type="button" role="tab">Tags</button>
        </div>

        <div role="tabpanel" id="ref-list-branches" data-filter-placeholder="Filter branches/tags" tabindex="" class="d-flex flex-column flex-auto overflow-auto">
          <ref-selector
            type="branch"
            data-targets="input-demux.sinks"
            data-action="
              input-entered:ref-selector#inputEntered
              tab-selected:ref-selector#tabSelected
              focus-list:ref-selector#focusFirstListMember
            "
            query-endpoint="/dgryski/go-perfbook/refs"
            
            cache-key="v0:1517981876.0"
            current-committish="bWFzdGVy"
            default-branch="bWFzdGVy"
            name-with-owner="ZGdyeXNraS9nby1wZXJmYm9vaw=="
            prefetch-on-mouseover
          >

            <template data-target="ref-selector.fetchFailedTemplate">
              <div class="SelectMenu-message" data-index="{{ index }}">Could not load branches</div>
            </template>

              <template data-target="ref-selector.noMatchTemplate">
    <div class="SelectMenu-message">Nothing to show</div>
</template>


            <!-- TODO: this max-height is necessary or else the branch list won't scroll.  why? -->
            <div data-target="ref-selector.listContainer" role="menu" class="SelectMenu-list " style="max-height: 330px" data-pjax="#repo-content-pjax-container">
              <div class="SelectMenu-loading pt-3 pb-0 overflow-hidden" aria-label="Menu is loading">
                <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" data-view-component="true" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" />
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>
              </div>
            </div>

              <template data-target="ref-selector.itemTemplate">
  <a href="https://github.com/dgryski/go-perfbook/blob/{{ urlEncodedRefName }}/performance.md" class="SelectMenu-item" role="menuitemradio" rel="nofollow" aria-checked="{{ isCurrent }}" data-index="{{ index }}">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check SelectMenu-icon SelectMenu-icon--check">
    <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
</svg>
    <span class="flex-1 css-truncate css-truncate-overflow {{ isFilteringClass }}">{{ refName }}</span>
    <span hidden="{{ isNotDefault }}" class="Label Label--secondary flex-self-start">default</span>
  </a>
</template>


              <footer class="SelectMenu-footer"><a href="/dgryski/go-perfbook/branches">View all branches</a></footer>
          </ref-selector>

        </div>

        <div role="tabpanel" id="tags-menu" data-filter-placeholder="Find a tag" tabindex="" hidden class="d-flex flex-column flex-auto overflow-auto">
          <ref-selector
            type="tag"
            data-action="
              input-entered:ref-selector#inputEntered
              tab-selected:ref-selector#tabSelected
              focus-list:ref-selector#focusFirstListMember
            "
            data-targets="input-demux.sinks"
            query-endpoint="/dgryski/go-perfbook/refs"
            cache-key="v0:1517981876.0"
            current-committish="bWFzdGVy"
            default-branch="bWFzdGVy"
            name-with-owner="ZGdyeXNraS9nby1wZXJmYm9vaw=="
          >

            <template data-target="ref-selector.fetchFailedTemplate">
              <div class="SelectMenu-message" data-index="{{ index }}">Could not load tags</div>
            </template>

            <template data-target="ref-selector.noMatchTemplate">
              <div class="SelectMenu-message" data-index="{{ index }}">Nothing to show</div>
            </template>

              <template data-target="ref-selector.itemTemplate">
  <a href="https://github.com/dgryski/go-perfbook/blob/{{ urlEncodedRefName }}/performance.md" class="SelectMenu-item" role="menuitemradio" rel="nofollow" aria-checked="{{ isCurrent }}" data-index="{{ index }}">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check SelectMenu-icon SelectMenu-icon--check">
    <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
</svg>
    <span class="flex-1 css-truncate css-truncate-overflow {{ isFilteringClass }}">{{ refName }}</span>
    <span hidden="{{ isNotDefault }}" class="Label Label--secondary flex-self-start">default</span>
  </a>
</template>


            <div data-target="ref-selector.listContainer" role="menu" class="SelectMenu-list" style="max-height: 330px" data-pjax="#repo-content-pjax-container">
              <div class="SelectMenu-loading pt-3 pb-0 overflow-hidden" aria-label="Menu is loading">
                <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" data-view-component="true" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" />
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>
              </div>
            </div>
              <footer class="SelectMenu-footer"><a href="/dgryski/go-perfbook/tags">View all tags</a></footer>
          </ref-selector>
        </div>
      </tab-container>
    </input-demux>
  </div>
</div>

  </details>

</div>

  <h2 id="blob-path" class="breadcrumb flex-auto flex-self-center min-width-0 text-normal mx-2 width-full width-md-auto flex-order-1 flex-md-order-none mt-3 mt-md-0">
    <span class="js-repo-root text-bold"><span class="js-path-segment d-inline-block wb-break-all"><a data-pjax="#repo-content-pjax-container" href="/dgryski/go-perfbook"><span>go-perfbook</span></a></span></span><span class="separator">/</span><strong class="final-path">performance.md</strong>
  </h2>
  <a href="/dgryski/go-perfbook/find/master" data-pjax="" data-hotkey="t" data-view-component="true" class="js-pjax-capture-input btn mr-2 d-none d-md-block">  Go to file
</a>
  <details id="blob-more-options-details" data-view-component="true" class="details-overlay details-reset position-relative">
  <summary role="button" data-view-component="true" class="btn">  <svg aria-label="More options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
</summary>
  <div data-view-component="true">      <ul class="dropdown-menu dropdown-menu-sw">
        <li class="d-block d-md-none">
          <a class="dropdown-item d-flex flex-items-baseline" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;FIND_FILE_BUTTON&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="55b0d8e95d7abe71409f8dbe6ecafbe6a4621c955b34f0095fa14a6cebd29d5d" data-ga-click="Repository, find file, location:repo overview" data-hotkey="t" data-pjax="true" href="/dgryski/go-perfbook/find/master">
            <span class="flex-auto">Go to file</span>
            <span class="text-small color-fg-muted" aria-hidden="true">T</span>
</a>        </li>
        <li data-toggle-for="blob-more-options-details">
          <button data-toggle-for="jumpto-line-details-dialog" type="button" data-view-component="true" class="dropdown-item btn-link">  <span class="d-flex flex-items-baseline">
              <span class="flex-auto">Go to line</span>
              <span class="text-small color-fg-muted" aria-hidden="true">L</span>
            </span>
</button>        </li>
        <li class="dropdown-divider" role="none"></li>
        <li>
          <clipboard-copy data-toggle-for="blob-more-options-details" aria-label="Copy path" value="performance.md" data-view-component="true" class="dropdown-item cursor-pointer">
    
            Copy path

</clipboard-copy>        </li>
        <li>
          <clipboard-copy data-toggle-for="blob-more-options-details" aria-label="Copy permalink" value="https://github.com/dgryski/go-perfbook/blob/648834a9bd8a0ffe8202efaf40b6edd57cc17026/performance.md" data-view-component="true" class="dropdown-item cursor-pointer">
    
            <span class="d-flex flex-items-baseline">
              <span class="flex-auto">Copy permalink</span>
            </span>

</clipboard-copy>        </li>
      </ul>
</div>
</details></div>





    <div id="spoof-warning" class="mt-0 pb-3" hidden aria-hidden>
  <div data-view-component="true" class="flash flash-warn mt-0 clearfix">
  
  
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert float-left mt-1">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>

      <div class="overflow-hidden">This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.</div>


  
</div></div>

    <include-fragment src="/dgryski/go-perfbook/spoofed_commit_check/648834a9bd8a0ffe8202efaf40b6edd57cc17026" data-test-selector="spoofed-commit-check"></include-fragment>

    <div class="Box d-flex flex-column flex-shrink-0 mb-3">
  
  <div class="Box-header Details js-details-container">
      <div class="d-flex flex-items-center">
        <span class="flex-shrink-0 ml-n1 mr-n1 mt-n1 mb-n1">
          <a rel="contributor" data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/users/jeremieSimon/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/jeremieSimon"><img class="avatar avatar-user" src="https://avatars.githubusercontent.com/u/614919?s=48&amp;v=4" width="24" height="24" alt="@jeremieSimon" /></a>
        </span>
        <div class="flex-1 d-flex flex-items-center ml-3 min-width-0">
          <div class="css-truncate css-truncate-overflow">
            <a class="text-bold Link--primary" rel="contributor" data-hovercard-type="user" data-hovercard-url="/users/jeremieSimon/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/jeremieSimon">jeremieSimon</a>

              <span class="markdown-title">
                <a data-pjax="true" title="Update performance.md (#69)

Update reference to small memory book" class="Link--secondary" href="/dgryski/go-perfbook/commit/648834a9bd8a0ffe8202efaf40b6edd57cc17026">Update performance.md (</a><a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1094342753" data-permission-text="Title is private" data-url="https://github.com/dgryski/go-perfbook/issues/69" data-hovercard-type="pull_request" data-hovercard-url="/dgryski/go-perfbook/pull/69/hovercard" href="https://github.com/dgryski/go-perfbook/pull/69">#69</a><a data-pjax="true" title="Update performance.md (#69)

Update reference to small memory book" class="Link--secondary" href="/dgryski/go-perfbook/commit/648834a9bd8a0ffe8202efaf40b6edd57cc17026">)</a>
              </span>
          </div>

            <span class="hidden-text-expander ml-1 flex-shrink-0">
              <button type="button" class="ellipsis-expander js-details-target" aria-expanded="false">&hellip;</button>
            </span>

          <span class="ml-2">
            <include-fragment accept="text/fragment+html" src="/dgryski/go-perfbook/commit/648834a9bd8a0ffe8202efaf40b6edd57cc17026/rollup?direction=e" class="d-inline"></include-fragment>
          </span>
        </div>
        <div class="ml-3 d-flex flex-shrink-0 flex-items-center flex-justify-end color-fg-muted no-wrap">
          <span class="d-none d-md-inline">
            <span>Latest commit</span>
            <a class="text-small text-mono Link--secondary" href="/dgryski/go-perfbook/commit/648834a9bd8a0ffe8202efaf40b6edd57cc17026" data-pjax>648834a</a>
            <span itemprop="dateModified"><relative-time datetime="2022-01-05T14:13:12Z" class="no-wrap">Jan 5, 2022</relative-time></span>
          </span>

          <a data-pjax href="/dgryski/go-perfbook/commits/master/performance.md" class="ml-3 no-wrap Link--primary no-underline">
            <svg text="gray" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-history">
    <path fill-rule="evenodd" d="M1.643 3.143L.427 1.927A.25.25 0 000 2.104V5.75c0 .138.112.25.25.25h3.646a.25.25 0 00.177-.427L2.715 4.215a6.5 6.5 0 11-1.18 4.458.75.75 0 10-1.493.154 8.001 8.001 0 101.6-5.684zM7.75 4a.75.75 0 01.75.75v2.992l2.028.812a.75.75 0 01-.557 1.392l-2.5-1A.75.75 0 017 8.25v-3.5A.75.75 0 017.75 4z"></path>
</svg>
            <span class="d-none d-sm-inline">
              <strong>History</strong>
            </span>
          </a>
        </div>
      </div>
        <div class="Details-content--hidden ml-5 mt-2"><pre class="mt-2 f6 ws-pre-wrap">Update reference to small memory book</pre></div>

  </div>

  <div class="Box-body d-flex flex-items-center flex-auto border-bottom-0 flex-wrap" >
    <details class="details-reset details-overlay details-overlay-dark lh-default color-fg-default float-left mr-3" id="blob_contributors_box">
      <summary class="Link--primary">
        <svg text="gray" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-people">
    <path fill-rule="evenodd" d="M5.5 3.5a2 2 0 100 4 2 2 0 000-4zM2 5.5a3.5 3.5 0 115.898 2.549 5.507 5.507 0 013.034 4.084.75.75 0 11-1.482.235 4.001 4.001 0 00-7.9 0 .75.75 0 01-1.482-.236A5.507 5.507 0 013.102 8.05 3.49 3.49 0 012 5.5zM11 4a.75.75 0 100 1.5 1.5 1.5 0 01.666 2.844.75.75 0 00-.416.672v.352a.75.75 0 00.574.73c1.2.289 2.162 1.2 2.522 2.372a.75.75 0 101.434-.44 5.01 5.01 0 00-2.56-3.012A3 3 0 0011 4z"></path>
</svg>
        <strong>24</strong>
        
        contributors
      </summary>
      <details-dialog
        class="Box Box--overlay d-flex flex-column anim-fade-in fast"
        aria-label="Users who have contributed to this file"
        src="/dgryski/go-perfbook/contributors-list/master/performance.md" preload>
        <div class="Box-header">
          <button class="Box-btn-octicon btn-octicon float-right" type="button" aria-label="Close dialog" data-close-dialog>
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg>
          </button>
          <h3 class="Box-title">
            Users who have contributed to this file
          </h3>
        </div>
        <include-fragment>
          <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" data-view-component="true" class="my-3 mx-auto d-block anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" />
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>
        </include-fragment>
      </details-dialog>
    </details>
      <span class="">
    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/users/dgryski/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/dgryski/go-perfbook/commits/master/performance.md?author=dgryski">
      <img class="avatar mr-2 avatar-user" src="https://avatars.githubusercontent.com/u/970862?s=48&amp;v=4" width="24" height="24" alt="@dgryski" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/users/StabbyCutyou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/dgryski/go-perfbook/commits/master/performance.md?author=StabbyCutyou">
      <img class="avatar mr-2 avatar-user" src="https://avatars.githubusercontent.com/u/1528618?s=48&amp;v=4" width="24" height="24" alt="@StabbyCutyou" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/users/edsrzf/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/dgryski/go-perfbook/commits/master/performance.md?author=edsrzf">
      <img class="avatar mr-2 avatar-user" src="https://avatars.githubusercontent.com/u/369904?s=48&amp;v=4" width="24" height="24" alt="@edsrzf" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/users/narqo/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/dgryski/go-perfbook/commits/master/performance.md?author=narqo">
      <img class="avatar mr-2 avatar-user" src="https://avatars.githubusercontent.com/u/88045?s=48&amp;v=4" width="24" height="24" alt="@narqo" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/users/tschaub/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/dgryski/go-perfbook/commits/master/performance.md?author=tschaub">
      <img class="avatar mr-2 avatar-user" src="https://avatars.githubusercontent.com/u/41094?s=48&amp;v=4" width="24" height="24" alt="@tschaub" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/users/seebs/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/dgryski/go-perfbook/commits/master/performance.md?author=seebs">
      <img class="avatar mr-2 avatar-user" src="https://avatars.githubusercontent.com/u/166725?s=48&amp;v=4" width="24" height="24" alt="@seebs" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/users/ryancox/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/dgryski/go-perfbook/commits/master/performance.md?author=ryancox">
      <img class="avatar mr-2 avatar-user" src="https://avatars.githubusercontent.com/u/111244?s=48&amp;v=4" width="24" height="24" alt="@ryancox" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/users/riking/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/dgryski/go-perfbook/commits/master/performance.md?author=riking">
      <img class="avatar mr-2 avatar-user" src="https://avatars.githubusercontent.com/u/627891?s=48&amp;v=4" width="24" height="24" alt="@riking" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/users/rayrutjes/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/dgryski/go-perfbook/commits/master/performance.md?author=rayrutjes">
      <img class="avatar mr-2 avatar-user" src="https://avatars.githubusercontent.com/u/5570853?s=48&amp;v=4" width="24" height="24" alt="@rayrutjes" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/users/vcabbage/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/dgryski/go-perfbook/commits/master/performance.md?author=vcabbage">
      <img class="avatar mr-2 avatar-user" src="https://avatars.githubusercontent.com/u/10789027?s=48&amp;v=4" width="24" height="24" alt="@vcabbage" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/users/jtn7/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/dgryski/go-perfbook/commits/master/performance.md?author=jtn7">
      <img class="avatar mr-2 avatar-user" src="https://avatars.githubusercontent.com/u/23145687?s=48&amp;v=4" width="24" height="24" alt="@jtn7" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/users/jsign/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/dgryski/go-perfbook/commits/master/performance.md?author=jsign">
      <img class="avatar mr-2 avatar-user" src="https://avatars.githubusercontent.com/u/6136245?s=48&amp;v=4" width="24" height="24" alt="@jsign" /> 
</a>
    <button data-toggle-for="blob_contributors_box" type="button" data-view-component="true" class="lh-default btn-link">  +12
</button></span>

  </div>
</div>







    <readme-toc>

    <div data-target="readme-toc.content" class="Box mt-3 position-relative">
      
  <div
    class="Box-header js-blob-header blob-header js-sticky js-position-sticky top-0 p-2 d-flex flex-shrink-0 flex-md-row flex-items-center"
    style="position: sticky; z-index: 1;"
  >

      <details
  data-target="readme-toc.trigger"
  data-menu-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;trigger&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}"
  data-menu-hydro-click-hmac="ed7870663eef94a1b895ec276cc7fcf4f4bf1cb88d6dcb861dc8b48eac601ffd"
  class="dropdown details-reset details-overlay"
>
  <summary
    class="btn btn-octicon m-0 mr-2 p-2"
    aria-haspopup="true"
    aria-label="Table of Contents">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-list-unordered">
    <path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"></path>
</svg>
  </summary>


  <details-menu class="SelectMenu" role="menu">
    <div class="SelectMenu-modal rounded-3 mt-1" style="max-height:340px;">

        <div class="SelectMenu-filter">
          <input
            class="SelectMenu-input form-control js-filterable-field"
            id="toc-filter-field"
            type="text"
            autocomplete="off"
            spellcheck="false"
            autofocus
            placeholder="Filter headings"
            aria-label="Filter headings">
        </div>

      <div class="SelectMenu-list SelectMenu-list--borderless p-2" style="overscroll-behavior: contain;" data-filterable-for="toc-filter-field" data-filterable-type="substring">
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 text-emphasized" style="-webkit-box-orient: vertical; padding-left: 12px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#writing-and-optimizing-go-code">Writing and Optimizing Go code</a>
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 " style="-webkit-box-orient: vertical; padding-left: 24px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#when-and-where-to-optimize">When and Where to Optimize</a>
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 " style="-webkit-box-orient: vertical; padding-left: 24px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#how-to-optimize">How to Optimize</a>
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 " style="-webkit-box-orient: vertical; padding-left: 36px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#optimization-workflow">Optimization Workflow</a>
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 " style="-webkit-box-orient: vertical; padding-left: 24px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#concrete-optimization-tips">Concrete optimization tips</a>
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 " style="-webkit-box-orient: vertical; padding-left: 36px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#data-changes">Data Changes</a>
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 " style="-webkit-box-orient: vertical; padding-left: 36px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#algorithmic-changes">Algorithmic Changes</a>
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 " style="-webkit-box-orient: vertical; padding-left: 36px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#benchmark-inputs">Benchmark Inputs</a>
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 " style="-webkit-box-orient: vertical; padding-left: 36px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#program-tuning">Program Tuning</a>
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 " style="-webkit-box-orient: vertical; padding-left: 36px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#optimization-workflow-summary">Optimization workflow summary</a>
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 " style="-webkit-box-orient: vertical; padding-left: 24px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#garbage-collection">Garbage Collection</a>
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 " style="-webkit-box-orient: vertical; padding-left: 24px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#runtime-and-compiler">Runtime and compiler</a>
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 " style="-webkit-box-orient: vertical; padding-left: 24px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#unsafe">Unsafe</a>
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 " style="-webkit-box-orient: vertical; padding-left: 24px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#common-gotchas-with-the-standard-library">Common gotchas with the standard library</a>
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 " style="-webkit-box-orient: vertical; padding-left: 24px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#alternate-implementations">Alternate implementations</a>
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 " style="-webkit-box-orient: vertical; padding-left: 24px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#cgo">cgo</a>
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 " style="-webkit-box-orient: vertical; padding-left: 24px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#advanced-techniques">Advanced Techniques</a>
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 " style="-webkit-box-orient: vertical; padding-left: 24px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#concurrency">Concurrency</a>
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 " style="-webkit-box-orient: vertical; padding-left: 24px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#assembly">Assembly</a>
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 " style="-webkit-box-orient: vertical; padding-left: 24px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#optimizing-an-entire-service">Optimizing an entire service</a>
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 " style="-webkit-box-orient: vertical; padding-left: 24px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#tooling">Tooling</a>
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 " style="-webkit-box-orient: vertical; padding-left: 36px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#introductory-profiling">Introductory Profiling</a>
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 " style="-webkit-box-orient: vertical; padding-left: 36px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#tracer">Tracer</a>
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 " style="-webkit-box-orient: vertical; padding-left: 36px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#look-at-some-more-interestingadvanced-tooling">Look at some more interesting/advanced tooling</a>
          <a role="menuitem" class="filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 " style="-webkit-box-orient: vertical; padding-left: 24px;" data-action="click:readme-toc#blur" data-targets="readme-toc.entries" data-hydro-click="{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:59398169,&quot;originating_url&quot;:&quot;https://github.com/dgryski/go-perfbook/blob/master/performance.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c8c0594db4710a2785c0d947363acbd635e15213a13c1ff4bab774c9c1538edb" href="#appendix-implementing-research-papers">Appendix: Implementing Research Papers</a>
      </div>
    </div>
  </details-menu>
</details>


  <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1">

      1365 lines (1081 sloc)
      <span class="file-info-divider"></span>
    67 KB
  </div>

  <div class="d-flex py-1 py-md-0 flex-auto flex-order-1 flex-md-order-2 flex-sm-grow-0 flex-justify-between hide-sm hide-md">
        <div class="BtnGroup">
    <a href="/dgryski/go-perfbook/blob/master/performance.md?plain=1" data-permalink-href="/dgryski/go-perfbook/blob/648834a9bd8a0ffe8202efaf40b6edd57cc17026/performance.md?plain=1" aria-label="Display the source blob" data-view-component="true" class="source tooltipped tooltipped tooltipped-n  js-permalink-replaceable-link btn-sm btn BtnGroup-item">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code">
    <path fill-rule="evenodd" d="M4.72 3.22a.75.75 0 011.06 1.06L2.06 8l3.72 3.72a.75.75 0 11-1.06 1.06L.47 8.53a.75.75 0 010-1.06l4.25-4.25zm6.56 0a.75.75 0 10-1.06 1.06L13.94 8l-3.72 3.72a.75.75 0 101.06 1.06l4.25-4.25a.75.75 0 000-1.06l-4.25-4.25z"></path>
</svg>
</a>    <a href="/dgryski/go-perfbook/blob/master/performance.md" data-permalink-href="/dgryski/go-perfbook/blob/648834a9bd8a0ffe8202efaf40b6edd57cc17026/performance.md" aria-label="Display the rendered blob" data-view-component="true" class="rendered tooltipped tooltipped tooltipped-n selected js-permalink-replaceable-link btn-sm btn BtnGroup-item">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-file">
    <path fill-rule="evenodd" d="M3.75 1.5a.25.25 0 00-.25.25v11.5c0 .138.112.25.25.25h8.5a.25.25 0 00.25-.25V6H9.75A1.75 1.75 0 018 4.25V1.5H3.75zm5.75.56v2.19c0 .138.112.25.25.25h2.19L9.5 2.06zM2 1.75C2 .784 2.784 0 3.75 0h5.086c.464 0 .909.184 1.237.513l3.414 3.414c.329.328.513.773.513 1.237v8.086A1.75 1.75 0 0112.25 15h-8.5A1.75 1.75 0 012 13.25V1.75z"></path>
</svg>
</a>  </div>


    <div class="BtnGroup">
      <a data-permalink-href="/dgryski/go-perfbook/raw/648834a9bd8a0ffe8202efaf40b6edd57cc17026/performance.md" href="/dgryski/go-perfbook/raw/master/performance.md" id="raw-url" data-view-component="true" class="js-permalink-replaceable-link btn-sm btn BtnGroup-item">  Raw
</a>        <a data-permalink-href="/dgryski/go-perfbook/blame/648834a9bd8a0ffe8202efaf40b6edd57cc17026/performance.md" href="/dgryski/go-perfbook/blame/master/performance.md" data-hotkey="b" data-view-component="true" class="js-update-url-with-hash js-permalink-replaceable-link btn-sm btn BtnGroup-item">  Blame
</a>    </div>

    <div>
          <a class="btn-octicon tooltipped tooltipped-nw js-remove-unless-platform"
             data-platforms="windows,mac"
             href="https://desktop.github.com"
             aria-label="Open this file in GitHub Desktop"
             data-ga-click="Repository, open with desktop">
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-device-desktop">
    <path fill-rule="evenodd" d="M1.75 2.5h12.5a.25.25 0 01.25.25v7.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25v-7.5a.25.25 0 01.25-.25zM14.25 1H1.75A1.75 1.75 0 000 2.75v7.5C0 11.216.784 12 1.75 12h3.727c-.1 1.041-.52 1.872-1.292 2.757A.75.75 0 004.75 16h6.5a.75.75 0 00.565-1.243c-.772-.885-1.193-1.716-1.292-2.757h3.727A1.75 1.75 0 0016 10.25v-7.5A1.75 1.75 0 0014.25 1zM9.018 12H6.982a5.72 5.72 0 01-.765 2.5h3.566a5.72 5.72 0 01-.765-2.5z"></path>
</svg>
          </a>

        
          <a href="/login?return_to=https%3A%2F%2Fgithub.com%2Fdgryski%2Fgo-perfbook%2Fblob%2Fmaster%2Fperformance.md" class="btn-octicon disabled tooltipped tooltipped-nw"
            aria-label="You must be signed in to make or propose changes">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-pencil">
    <path fill-rule="evenodd" d="M11.013 1.427a1.75 1.75 0 012.474 0l1.086 1.086a1.75 1.75 0 010 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 01-.927-.928l.929-3.25a1.75 1.75 0 01.445-.758l8.61-8.61zm1.414 1.06a.25.25 0 00-.354 0L10.811 3.75l1.439 1.44 1.263-1.263a.25.25 0 000-.354l-1.086-1.086zM11.189 6.25L9.75 4.81l-6.286 6.287a.25.25 0 00-.064.108l-.558 1.953 1.953-.558a.249.249 0 00.108-.064l6.286-6.286z"></path>
</svg>
          </a>
          <a href="/login?return_to=https%3A%2F%2Fgithub.com%2Fdgryski%2Fgo-perfbook%2Fblob%2Fmaster%2Fperformance.md" class="btn-octicon btn-octicon-danger disabled tooltipped tooltipped-nw"
            aria-label="You must be signed in to make or propose changes">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-trash">
    <path fill-rule="evenodd" d="M6.5 1.75a.25.25 0 01.25-.25h2.5a.25.25 0 01.25.25V3h-3V1.75zm4.5 0V3h2.25a.75.75 0 010 1.5H2.75a.75.75 0 010-1.5H5V1.75C5 .784 5.784 0 6.75 0h2.5C10.216 0 11 .784 11 1.75zM4.496 6.675a.75.75 0 10-1.492.15l.66 6.6A1.75 1.75 0 005.405 15h5.19c.9 0 1.652-.681 1.741-1.576l.66-6.6a.75.75 0 00-1.492-.149l-.66 6.6a.25.25 0 01-.249.225h-5.19a.25.25 0 01-.249-.225l-.66-6.6z"></path>
</svg>
          </a>
    </div>
  </div>

    <div class="d-flex hide-lg hide-xl flex-order-2 flex-grow-0">
      <details class="dropdown details-reset details-overlay d-inline-block">
        <summary class="btn-octicon p-2" aria-haspopup="true" aria-label="possible actions">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
        </summary>

        <ul class="dropdown-menu dropdown-menu-sw" style="width: 175px">
            <li>
                <a class="dropdown-item tooltipped tooltipped-nw js-remove-unless-platform"
                   data-platforms="windows,mac"
                   href="https://desktop.github.com"
                   data-ga-click="Repository, open with desktop">
                  Open with Desktop
                </a>
            </li>
          <li>
            <a class="dropdown-item" href="/dgryski/go-perfbook/raw/master/performance.md">
              View raw
            </a>
          </li>
            <li>
                          </li>
            <li>
              <a class="dropdown-item" href="/dgryski/go-perfbook/blame/master/performance.md">
                View blame
              </a>
            </li>

        </ul>
      </details>
    </div>
</div>


        <div id="readme" class="Box-body readme blob js-code-block-container p-5 p-xl-6 gist-border-0">
    <article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-writing-and-optimizing-go-code" class="anchor" aria-hidden="true" href="#writing-and-optimizing-go-code"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Writing and Optimizing Go code</h1>
<p dir="auto">This document outlines best practices for writing high-performance Go code.</p>
<p dir="auto">While some discussions will be made for making individual services faster
(caching, etc), designing performant distributed systems is beyond the scope
of this work. There are already good texts on monitoring and distributed
system design. Optimizing distributed systems encompasses an entirely different
set of research and design trade-offs.</p>
<p dir="auto">All the content will be licensed under CC-BY-SA.</p>
<p dir="auto">This book is split into different sections:</p>
<ol dir="auto">
<li>Basic tips for writing not-slow software
<ul dir="auto">
<li>CS 101-level stuff</li>
</ul>
</li>
<li>Tips for writing fast software
<ul dir="auto">
<li>Go-specific sections on how to get the best from Go</li>
</ul>
</li>
<li>Advanced tips for writing <em>really</em> fast software
<ul dir="auto">
<li>For when your optimized code isn't fast enough</li>
</ul>
</li>
</ol>
<p dir="auto">We can summarize these three sections as:</p>
<ol dir="auto">
<li>"Be reasonable"</li>
<li>"Be deliberate"</li>
<li>"Be dangerous"</li>
</ol>
<h2 dir="auto"><a id="user-content-when-and-where-to-optimize" class="anchor" aria-hidden="true" href="#when-and-where-to-optimize"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>When and Where to Optimize</h2>
<p dir="auto">I'm putting this first because it's really the most important step. Should
you even be doing this at all?</p>
<p dir="auto">Every optimization has a cost. Generally, this cost is expressed in terms of
code complexity or cognitive load -- optimized code is rarely simpler than
the unoptimized version.</p>
<p dir="auto">But there's another side that I'll call the economics of optimization. As a
programmer, your time is valuable. There's the opportunity cost of what else
you could be working on for your project, which bugs to fix, which features
to add. Optimizing things is fun, but it's not always the right task to
choose. Performance is a feature, but so is shipping, and so is correctness.</p>
<p dir="auto">Choose the most important thing to work on. Sometimes it's not an actual
CPU optimization, but a user-experience one. Something as simple as adding a
progress bar, or making a page more responsive by doing computation in the
background after rendering the page.</p>
<p dir="auto">Sometimes this will be obvious: an hourly report that completes in three hours
is probably less useful than one that completes in less than one.</p>
<p dir="auto">Just because something is easy to optimize doesn't mean it's worth
optimizing. Ignoring low-hanging fruit is a valid development strategy.</p>
<p dir="auto">Think of this as optimizing <em>your</em> time.</p>
<p dir="auto">You get to choose what to optimize and when to optimize. You can move the
slider between "Fast Software" and "Fast Deployment"</p>
<p dir="auto">People hear and mindlessly repeat "premature optimization is the root of all
evil", but they miss the full context of the quote.</p>
<blockquote>
<p dir="auto">"Programmers waste enormous amounts of time thinking about, or worrying about,
the speed of noncritical parts of their programs, and these attempts at
efficiency actually have a strong negative impact when debugging and
maintenance are considered. We should forget about small efficiencies, say
about 97% of the time: premature optimization is the root of all evil. Yet we
should not pass up our opportunities in that critical 3%."</p>
<p dir="auto">-- Knuth</p>
</blockquote>
<p dir="auto">Add: <a href="https://www.youtube.com/watch?time_continue=429&amp;v=3WBaY61c9sE" rel="nofollow">https://www.youtube.com/watch?time_continue=429&amp;v=3WBaY61c9sE</a></p>
<ul dir="auto">
<li>don't ignore the easy optimizations</li>
<li>more knowledge of algorithms and data structures makes more optimizations "easy" or "obvious"</li>
</ul>
<p dir="auto">Should you optimize?</p>
<blockquote>
<p dir="auto">Yes, but only if the problem is important, the program
is genuinely too slow, and there is some expectation that it can be made
faster while maintaining correctness, robustness, and clarity."</p>
<p dir="auto">-- The Practice of Programming, Kernighan and Pike</p>
</blockquote>
<p dir="auto">Premature optimization can also hurt you by tying you into certain decisions.
The optimized code can be harder to modify if requirements change and harder to
throw away (sunk-cost fallacy) if needed.</p>
<p dir="auto"><a href="http://bitfunnel.org/strangeloop" rel="nofollow">BitFunnel performance estimation</a> has some
numbers that make this trade-off explicit. Imagine a hypothetical search
engine needing 30,000 machines across multiple data centers. These machines
have a cost of approximately $1,000 USD per year. If you can double the speed
of the software, this can save the company $15M USD per year. Even a single
developer spending an entire year to improve performance by only 1% will pay
for itself.</p>
<p dir="auto">In the vast majority of cases, the size and speed of a program is not a concern.
The easiest optimization is not having to do it. The second easiest optimization
is just buying faster hardware.</p>
<p dir="auto">Once you've decided you're going to change your program, keep reading.</p>
<h2 dir="auto"><a id="user-content-how-to-optimize" class="anchor" aria-hidden="true" href="#how-to-optimize"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How to Optimize</h2>
<h3 dir="auto"><a id="user-content-optimization-workflow" class="anchor" aria-hidden="true" href="#optimization-workflow"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Optimization Workflow</h3>
<p dir="auto">Before we get into the specifics, let's talk about the general process of
optimization.</p>
<p dir="auto">Optimization is a form of refactoring. But each step, rather than improving
some aspect of the source code (code duplication, clarity, etc), improves
some aspect of the performance: lower CPU, memory usage, latency, etc. This
improvement generally comes at the cost of readability. This means that in
addition to a comprehensive set of unit tests (to ensure your changes haven't
broken anything), you also need a good set of benchmarks to ensure your
changes are having the desired effect on performance. You must be able to
verify that your change really <em>is</em> lowering CPU. Sometimes a change you
thought would improve performance will actually turn out to have a zero or
negative change. Always make sure you undo your fix in these cases.</p>
<p dir="auto"><a href="https://stackoverflow.com/questions/184618/what-is-the-best-comment-in-source-code-you-have-ever-encountered" rel="nofollow">What is the best comment in source code you have ever encountered? - Stack Overflow</a>:</p>
<pre>//
// Dear maintainer:
//
// Once you are done trying to 'optimize' this routine,
// and have realized what a terrible mistake that was,
// please increment the following counter as a warning
// to the next guy:
//
// total_hours_wasted_here = 42
//
</pre>
<p dir="auto">The benchmarks you are using must be correct and provide reproducible numbers
on representative workloads. If individual runs have too high a variance, it
will make small improvements more difficult to spot. You will need to use
<a href="https://golang.org/x/perf/benchstat" rel="nofollow">benchstat</a> or equivalent statistical tests
and won't be able just to eyeball it.
(Note that using statistical tests is a good idea anyway.) The steps to run
the benchmarks should be documented, and any custom scripts and tooling
should be committed to the repository with instructions for how to run them.
Be mindful of large benchmark suites that take a long time to run: it will
make the development iterations slower.</p>
<p dir="auto">Note also that anything that can be measured can be optimized. Make sure
you're measuring the right thing.</p>
<p dir="auto">The next step is to decide what you are optimizing for. If the goal is to
improve CPU, what is an acceptable speed? Do you want to improve the current
performance by 2x? 10x? Can you state it as "a problem of size N in less than
time T"? Are you trying to reduce memory usage? By how much? How much slower
is acceptable for what change in memory usage? What are you willing to give
up in exchange for lower space requirements?</p>
<p dir="auto">Optimizing for service latency is a trickier proposition. Entire books have
been written on how to performance test web servers. The primary issue is
that for a single function, performance is fairly consistent for a
given problem size. For webservices, you don't have a single number. A proper
web-service benchmark suite will provide a latency distribution for a given
reqs/second level. This talk gives a good overview of some of the issues:
<a href="https://youtu.be/lJ8ydIuPFeU" rel="nofollow">"How NOT to Measure Latency" by Gil Tene</a></p>
<p dir="auto">TODO: See the later section on optimizing web services</p>
<p dir="auto">The performance goals must be specific. You will (almost) always be able to
make something faster. Optimizing is frequently a game of diminishing returns.
You need to know when to stop. How much effort are you going to put into
getting the last little bit of work. How much uglier and harder to maintain
are you willing to make the code?</p>
<p dir="auto">Dan Luu's previously mentioned talk on <a href="http://bitfunnel.org/strangeloop" rel="nofollow">BitFunnel performance
estimation</a> shows an example of using rough
calculations to determine if your target performance figures are reasonable.</p>
<p dir="auto">Simon Eskildsen has a talk from SRECon covering this topic in more depth:
<a href="https://www.youtube.com/watch?v=IxkSlnrRFqc" rel="nofollow">Advanced Napkin Math: Estimating System Performance from First Principles</a></p>
<p dir="auto">Finally, Jon Bentley's "Programming Pearls" has a chapter titled "The Back of
the Envelope" covering Fermi problems.  Sadly, these kinds of estimation skills
got a bad wrap thanks to their use in Microsoft style "puzzle interview
questions" in the 1990s and early 2000s.</p>
<p dir="auto">For greenfield development, you shouldn't leave all benchmarking and
performance numbers until the end. It's easy to say "we'll fix it later", but
if performance is really important it will be a design consideration from the
start. Any significant architectural changes required to fix performance
issues will be too risky near the deadline. Note that <em>during</em> development,
the focus should be on reasonable program design, algorithms, and data
structures. Optimizing at lower-levels of the stack should wait until later
in the development cycle when a more complete view of the system performance
is available. Any full-system profiles you do while the system is incomplete
will give a skewed view of where the bottlenecks will be in the finished system.</p>
<p dir="auto">TODO: How to avoid/detect "Death by 1000 cuts" from poorly written software.
Solution: "Premature pessimization is the root of all evil".  This matches with
my Rule 1: Be deliberate.  You don't need to write every line of code
to be fast, but neither should by default do wasteful things.</p>
<blockquote>
<p dir="auto">"Premature pessimization is when you write code that is slower than it needs to
be, usually by asking for unnecessary extra work, when equivalently complex code
would be faster and should just naturally flow out of your fingers."</p>
<p dir="auto">-- Herb Sutter</p>
</blockquote>
<p dir="auto">Benchmarking as part of CI is hard due to noisy neighbours and even different
CI boxes if it's just you.  Hard to gate on performance metrics.  A good middle
ground is to have benchmarks run by the developer (on appropriate hardware) and
included in the commit message for commits that specifically address
performance.  For those that are just general patches, try to catch performance
degradations "by eye" in code review.</p>
<p dir="auto">TODO: how to track performance over time?</p>
<p dir="auto">Write code that you can benchmark. Profiling you can do on larger systems.
Benchmarking you want to test isolated pieces. You need to be able to extract
and setup sufficient context that benchmarks test enough and are
representative.</p>
<p dir="auto">The difference between what your target is and the current performance will
also give you an idea of where to start. If you need only a 10-20%
performance improvement, you can probably get that with some implementation
tweaks and smaller fixes. If you need a factor of 10x or more, then just
replacing a multiplication with a left-shift isn't going to cut it. That's
probably going to call for changes up and down your stack, possibly redesigning
large portions of the system with these performance goals in mind.</p>
<p dir="auto">Good performance work requires knowledge at many different levels, from
system design, networking, hardware (CPU, caches, storage), algorithms,
tuning, and debugging. With limited time and resources, consider which level
will give the most improvement: it won't always be an algorithm or program
tuning.</p>
<p dir="auto">In general, optimizations should proceed from top to bottom. Optimizations at
the system level will have more impact than expression-level ones. Make sure
you're solving the problem at the appropriate level.</p>
<p dir="auto">This book is mostly going to talk about reducing CPU usage, reducing memory
usage, and reducing latency. It's good to point out that you can very rarely
do all three. Maybe CPU time is faster, but now your program uses more
memory. Maybe you need to reduce memory space, but now the program will take
longer.</p>
<p dir="auto"><a href="https://en.wikipedia.org/wiki/Amdahl%27s_law" rel="nofollow">Amdahl's Law</a> tells us to focus
on the bottlenecks. If you double the speed of routine that only takes 5% of
the runtime, that's only a 2.5% speedup in total wall-clock. On the other hand,
speeding up routine that takes 80% of the time by only 10% will improve runtime
by almost 8%. Profiles will help identify where time is actually spent.</p>
<p dir="auto">When optimizing, you want to reduce the amount of work the CPU has to do.
Quicksort is faster than bubble sort because it solves the same problem
(sorting) in fewer steps. It's a more efficient algorithm. You've reduced the
work the CPU needs to do in order to accomplish the same task.</p>
<p dir="auto">Program tuning, like compiler optimizations, will generally make only a small
dent in the total runtime. Large wins will almost always come from an
algorithmic change or data structure change, a fundamental shift in how your
program is organized. Compiler technology improves, but slowly. <a href="http://proebsting.cs.arizona.edu/law.html" rel="nofollow">Proebsting's
Law</a> says compilers double in
performance every 18 <em>years</em>, a stark contrast with the (slightly
misunderstood interpretation) of Moore's Law that doubles processor
performance every 18 <em>months</em>. Algorithmic improvements work at larger magnitudes.
Algorithms for mixed integer programming <a href="https://agtb.wordpress.com/2010/12/23/progress-in-algorithms-beats-moore%E2%80%99s-law/" rel="nofollow">improved by a factor of 30,000
between 1991 and 2008</a>.
For a more concrete example, consider <a href="https://medium.com/@buckhx/unwinding-uber-s-most-efficient-service-406413c5871d" rel="nofollow">this breakdown</a>
of replacing a brute force geo-spatial algorithm described in an Uber blog post with
more specialized one more suited to the presented task. There is no compiler switch
that will give you an equivalent boost in performance.</p>
<p dir="auto">TODO: Optimizing floating point FFT and MMM algorithm differences in gttse07.pdf</p>
<p dir="auto">A profiler might show you that lots of time is spent in a particular routine.
It could be this is an expensive routine, or it could be a cheap routine that
is just called many many times. Rather than immediately trying to speed up
that one routine, see if you can reduce the number of times it's called or
eliminate it completely. We'll discuss more concrete optimization strategies
in the next section.</p>
<p dir="auto">The Three Optimization Questions:</p>
<ul dir="auto">
<li>Do we have to do this at all? The fastest code is the code that's never run.</li>
<li>If yes, is this the best algorithm.</li>
<li>If yes, is this the best <em>implementation</em> of this algorithm.</li>
</ul>
<h2 dir="auto"><a id="user-content-concrete-optimization-tips" class="anchor" aria-hidden="true" href="#concrete-optimization-tips"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Concrete optimization tips</h2>
<p dir="auto">Jon Bentley's 1982 work "Writing Efficient Programs" approached program
optimization as an engineering problem: Benchmark. Analyze. Improve. Verify.
Iterate. A number of his tips are now done automatically by compilers. A
programmer's job is to use the transformations compilers <em>can't</em> do.</p>
<p dir="auto">There are summaries of the book:</p>
<ul dir="auto">
<li><a href="http://www.crowl.org/lawrence/programming/Bentley82.html" rel="nofollow">http://www.crowl.org/lawrence/programming/Bentley82.html</a></li>
<li><a href="http://www.geoffprewett.com/BookReviews/WritingEfficientPrograms.html" rel="nofollow">http://www.geoffprewett.com/BookReviews/WritingEfficientPrograms.html</a></li>
</ul>
<p dir="auto">and the program tuning rules:</p>
<ul dir="auto">
<li><a href="https://web.archive.org/web/20080513070949/http://www.cs.bell-labs.com/cm/cs/pearls/apprules.html" rel="nofollow">https://web.archive.org/web/20080513070949/http://www.cs.bell-labs.com/cm/cs/pearls/apprules.html</a></li>
</ul>
<p dir="auto">When thinking of changes you can make to your program, there are two basic options:
you can either change your data or you can change your code.</p>
<h3 dir="auto"><a id="user-content-data-changes" class="anchor" aria-hidden="true" href="#data-changes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Data Changes</h3>
<p dir="auto">Changing your data means either adding to or altering the representation of
the data you're processing. From a performance perspective, some of these
will end up changing the O() associated with different aspects of the data
structure. This may even include preprocessing the input to be in a
different, more useful format.</p>
<p dir="auto">Ideas for augmenting your data structure:</p>
<ul dir="auto">
<li>
<p dir="auto">Extra fields</p>
<p dir="auto">The classic example of this is storing the length of a linked list in a field in
the root node. It takes a bit more work to keep it updated, but then querying
the length becomes a simple field lookup instead of an O(n) traversal. Your data
structure might present a similar win: a bit of bookkeeping during some
operations in exchange for some faster performance on a common use case.</p>
<p dir="auto">Similarly, storing pointers to frequently needed nodes instead of performing
additional searches.  This covers things like the "backwards" links in a
doubly-linked list to make node removal O(1). Some skip lists keep a "search
finger", where you store a pointer to where you just were in your data
structure on the assumption it's a good starting point for your next
operation.</p>
</li>
<li>
<p dir="auto">Extra search indexes</p>
<p dir="auto">Most data structures are designed for a single type of query. If you need two
different query types, having an additional "view" onto your data can be large
improvement. For example, a set of structs might have a primary ID (integer)
that you use to look up in a slice, but sometimes need to look up with a
secondary ID (string). Instead of iterating over the slice, you can augment
your data structure with a map either from string to ID or directly to the
struct itself.</p>
</li>
<li>
<p dir="auto">Extra information about elements</p>
<p dir="auto">For example, keeping a bloom filter of all the elements you've inserted can let
you quickly return "no match" for lookups. These need to be small and fast to
not overwhelm the rest of the data structure.  (If a lookup in your main data
structure is cheap, the cost of the bloom filter will outweigh any savings.)</p>
</li>
<li>
<p dir="auto">If queries are expensive, add a cache.</p>
<p dir="auto">At a larger level, an in-process or external cache (like memcache) can help.
It might be excessive for a single data structure.  We'll cover more about
caches below.</p>
</li>
</ul>
<p dir="auto">These sorts of changes are useful when the data you need is cheap to store and
easy to keep up-to-date.</p>
<p dir="auto">These are all clear examples of "do less work" at the data structure level.
They all cost space. Most of the time if you're optimizing for CPU, your
program will use more memory. This is the classic <a href="https://en.wikipedia.org/wiki/Space%E2%80%93time_tradeoff" rel="nofollow">space-time trade-off</a>.</p>
<p dir="auto">It's important to examine how this tradeoff can affect your solutions -- it's
not always straight-forward. Sometimes a small amount of memory can give a
significant speed, sometimes the tradeoff is linear (2x memory usage == 2x
performance speedup), sometimes it's significantly worse: a huge amount of
memory gives only a small speedup. Where you need to be on this
memory/performance curve can affect what algorithm choices are reasonable.
It's not always possible to just tune an algorithm parameter. Different
memory usages might be completely different algorithmic approaches.</p>
<p dir="auto">Lookup tables also fall into this space-time trade-off. A simple lookup table
might just be a cache of previously requested computations.</p>
<p dir="auto">If the domain is small enough, the <em>entire</em> set of results could be
precomputed and stored in the table. As an example, this could be the
approach taken for a fast popcount implementation, where by the number of set
bits in byte is stored in a 256-entry table. A larger table could store the
bits required for all 16-bit words. In this case, they're storing exact
results.</p>
<p dir="auto">A number of algorithms for trigonometric functions use lookup tables as a
starting point for a calculation.</p>
<p dir="auto">If your program uses too much memory, it's also possible to go the other way.
Reduce space usage in exchange for increased computation. Rather than storing
things, calculate them every time. You can also compress the data in memory
and decompress it on the fly when you need it.</p>
<p dir="auto">If the data you're processing is on disk, instead of loading everything into
RAM, you could create an index for the pieces you need and keep that in
memory, or pre-process the file into smaller workable chunks.</p>
<p dir="auto"><a href="https://smallmemory.charlesweir.com/book.html" rel="nofollow">Small Memory Software</a> is a book available
online covering techniques for reducing the space used by your programs.
While it was originally written targeting embedded developers, the ideas are
applicable for programs on modern hardware dealing with huge amounts of data.</p>
<ul dir="auto">
<li>
<p dir="auto">Rearrange your data</p>
<p dir="auto">Eliminate structure padding. Remove extra fields.  Use a smaller data type.</p>
</li>
<li>
<p dir="auto">Change to a slower data structure</p>
<p dir="auto">Simpler data structures frequently have lower memory requirements. For
example, moving from a pointer-heavy tree structure to use slice and
linear search instead.</p>
</li>
<li>
<p dir="auto">Custom compression format for your data</p>
<p dir="auto">Compression algorithms depend very heavily on what is being compressed.  It's
best to choose one that suites your data.  If you have []byte, the something
like snappy, gzip, lz4, behaves well. For floating point data there is go-tsz
for time series and fpc for scientific data. Lots of research has been done
around compressing integers, generally for information retrieval in search
engines.  Examples include delta encoding and varints to more complex schemes
involving Huffman encoded xor-differences.  You can also come up with custom
compression formats optimized for exactly your data.</p>
<p dir="auto">Do you need to inspect the data or can it stay compressed? Do you need random
access or only streaming?  If you need access to individual entries but don't
want to decompress the entire thing, you can compress the data in smaller
blocks and keep an index indicating what range of entries are in each block.
Access to a single entry just needs to check the index and unpack the smaller
data block.</p>
<p dir="auto">If your data is not just in-process but will be written to disk, what about
data migration or adding/removing fields. You'll now be dealing with raw
[]byte instead of nice structured Go types, so you'll need unsafe and to
consider serialization options.</p>
</li>
</ul>
<p dir="auto">We will talk more about data layouts later.</p>
<p dir="auto">Modern computers and the memory hierarchy make the space/time trade-off less
clear. It's very easy for lookup tables to be "far away" in memory (and
therefore expensive to access) making it faster to just recompute a value
every time it's needed.</p>
<p dir="auto">This also means that benchmarking will frequently show improvements that are
not realized in the production system due to cache contention (e.g., lookup
tables are in the processor cache during benchmarking but always flushed by
"real data" when used in a real system.
Google's <a href="https://arxiv.org/pdf/1406.2294.pdf" rel="nofollow">Jump Hash paper</a> in fact
addressed this directly, comparing performance on both a contended and
uncontended processor cache. (See graphs 4 and 5 in the Jump Hash paper)</p>
<p dir="auto">TODO: how to simulate a contended cache, show incremental cost
TODO: sync.Map as a Go-ish example of cache-contention addressing</p>
<p dir="auto">Another aspect to consider is data-transfer time. Generally network and disk
access is very slow, and so being able to load a compressed chunk will be
much faster than the extra CPU time required to decompress the data once it
has been fetched. As always, benchmark. A binary format will generally
be smaller and faster to parse than a text one, but at the cost of no longer
being as human readable.</p>
<p dir="auto">For data transfer, move to a less chatty protocol, or augment the API to
allow partial queries. For example, an incremental query rather than being
forced to fetch the entire dataset each time.</p>
<h3 dir="auto"><a id="user-content-algorithmic-changes" class="anchor" aria-hidden="true" href="#algorithmic-changes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Algorithmic Changes</h3>
<p dir="auto">If you're not changing the data, the other main option is to change the code.</p>
<p dir="auto">The biggest improvement is likely to come from an algorithmic change. This
is the equivalent of replacing bubble sort (<code>O(n^2)</code>) with quicksort (<code>O(n log n)</code>)
or replacing a linear scan through an array (<code>O(n)</code>) with a binary search (<code>O(log n)</code>)
or a map lookup (<code>O(1)</code>).</p>
<p dir="auto">This is how software becomes slow. Structures originally designed for one use
is repurposed for something it wasn't designed for. This happens gradually.</p>
<p dir="auto">It's important to have an intuitive grasp of the different big-O levels.
Choose the right data structure for your problem. You don't have to always
shave cycles, but this just prevents dumb performance issues that might not
be noticed until much later.</p>
<p dir="auto">The basic classes of complexity are:</p>
<ul dir="auto">
<li>
<p dir="auto">O(1): a field access, array or map lookup</p>
<p dir="auto">Advice: don't worry about it (but keep in mind the constant factor.)</p>
</li>
<li>
<p dir="auto">O(log n): binary search</p>
<p dir="auto">Advice: only a problem if it's in a loop</p>
</li>
<li>
<p dir="auto">O(n): simple loop</p>
<p dir="auto">Advice: you're doing this all the time</p>
</li>
<li>
<p dir="auto">O(n log n): divide-and-conquer, sorting</p>
<p dir="auto">Advice: still fairly fast</p>
</li>
<li>
<p dir="auto">O(n*m): nested loop / quadratic</p>
<p dir="auto">Advice: be careful and constrain your set sizes</p>
</li>
<li>
<p dir="auto">Anything else between quadratic and subexponential</p>
<p dir="auto">Advice: don't run this on a million rows</p>
</li>
<li>
<p dir="auto">O(b ^ n), O(n!): exponential and up</p>
<p dir="auto">Advice: good luck if you have more than a dozen or two data points</p>
</li>
</ul>
<p dir="auto">Link: <a href="http://bigocheatsheet.com" rel="nofollow">http://bigocheatsheet.com</a></p>
<p dir="auto">Let's say you need to search through of an unsorted set of data. "I should
use a binary search" you think, knowing that a binary search is O(log n) which
is faster than the O(n) linear scan. However, a binary search requires that
the data is sorted, which means you'll need to sort it first, which will take
O(n log n) time. If you're doing lots of searches, then the upfront cost of
sorting will pay off. On the other hand, if you're mostly doing lookups,
maybe having an array was the wrong choice and you'd be better off paying the
O(1) lookup cost for a map instead.</p>
<p dir="auto">Being able to analyze your problem in terms of big-O notation also means you can
figure out if you're already at the limit for what is possible for your problem,
and if you need to change approaches in order to speed things up.  For example,
finding the minimum of an unsorted list is <code>O(n)</code>, because you have to look at
every single item.  There's no way to make that faster.</p>
<p dir="auto">If your data structure is static, then you can generally do much better than
the dynamic case. It becomes easier to build an optimal data structure
customized for exactly your lookup patterns. Solutions like minimal perfect
hashing can make sense here, or precomputed bloom filters. This also make
sense if your data structure is "static" for long enough and you can amortize
the up-front cost of construction across many lookups.</p>
<p dir="auto">Choose the simplest reasonable data structure and move on. This is CS 101 for
writing "not-slow software". This should be your default development
mode. If you know you need random access, don't choose a linked-list.
If you know you need in-order traversal, don't use a map.
Requirements change and you can't always guess the future. Make a reasonable
guess at the workload.</p>
<p dir="auto"><a href="http://daslab.seas.harvard.edu/rum-conjecture/" rel="nofollow">http://daslab.seas.harvard.edu/rum-conjecture/</a></p>
<p dir="auto">Data structures for similar problems will differ in when they do a piece of
work. A binary tree sorts a little at a time as inserts happen. A unsorted
array is faster to insert but it's unsorted: at the end to "finalize" you
need to do the sorting all at once.</p>
<p dir="auto">When writing a package to be used by others, avoid the temptation to
optimize upfront for every single use case. This will result in unreadable
code. Data structures by design are effectively single-purpose. You can
neither read minds nor predict the future. If a user says "Your package is
too slow for this use case", a reasonable answer might be "Then use this
other package over here". A package should "do one thing well".</p>
<p dir="auto">Sometimes hybrid data structures will provide the performance improvement you
need. For example, by bucketing your data you can limit your search to a
single bucket. This still pays the theoretical cost of O(n), but the constant
will be smaller. We'll revisit these kinds of tweaks when we get to program
tuning.</p>
<p dir="auto">Two things that people forget when discussion big-O notation:</p>
<p dir="auto">One, there's a constant factor involved. Two algorithms which have the same
algorithmic complexity can have different constant factors. Imagine looping
over a list 100 times vs just looping over it once. Even though both are O(n),
one has a constant factor that's 100 times higher.</p>
<p dir="auto">These constant factors are why even though merge sort, quicksort, and
heapsort all O(n log n), everybody uses quicksort because it's the fastest.
It has the smallest constant factor.</p>
<p dir="auto">The second thing is that big-O only says "as n grows to infinity". It talks
about the growth trend, "As the numbers get big, this is the growth factor
that will dominate the run time." It says nothing about the actual
performance, or how it behaves with small n.</p>
<p dir="auto">There's frequently a cut-off point below which a dumber algorithm is faster.
A nice example from the Go standard library's <code>sort</code> package. Most of the
time it's using quicksort, but it has a shell-sort pass then insertion sort
when the partition size drops below 12 elements.</p>
<p dir="auto">For some algorithms, the constant factor might be so large that this cut-off
point may be larger than all reasonable inputs. That is, the O(n^2) algorithm
is faster than the O(n) algorithm for all inputs that you're ever likely to
deal with.</p>
<p dir="auto">This also means you need to know representative input sizes, both for
choosing the most appropriate algorithm and for writing good benchmarks.
10 items?  1000 items?  1000000 items?</p>
<p dir="auto">This also goes the other way: For example, choosing to use a more complicated
data structure to give you O(n) scaling instead of O(n^2), even though the
benchmarks for small inputs got slower. This also applies to most lock-free
data structures. They're generally slower in the single-threaded case but
more scalable when many threads are using it.</p>
<p dir="auto">The memory hierarchy in modern computers confuses the issue here a little
bit, in that caches prefer the predictable access of scanning a slice to the
effectively random access of chasing a pointer. Still, it's best to begin
with a good algorithm. We will talk about this in the hardware-specific
section.</p>
<p dir="auto">TODO: extending last paragraph, mention O() notation is an model where each
operation has fixed cost. That's a wrong assumption on modern hardware.</p>
<blockquote>
<p dir="auto">The fight may not always go to the strongest, nor the race to the fastest,
but that's the way to bet.
-- Rudyard Kipling</p>
</blockquote>
<p dir="auto">Sometimes the best algorithm for a particular problem is not a single
algorithm, but a collection of algorithms specialized for slightly different
input classes. This "polyalgorithm" quickly detects what kind of input it
needs to deal with and then dispatches to the appropriate code path. This is
what the sorting package mentioned above does: determine the problem size and
choose a different algorithm. In addition to combining quicksort, shell sort,
and insertion sort, it also tracks recursion depth of quicksort and calls
heapsort if necessary. The <code>string</code> and <code>bytes</code> packages do something similar,
detecting and specializing for different cases. As with data compression, the
more you know about what your input looks like, the better your custom
solution can be. Even if an optimization is not always applicable,
complicating your code by determining that it's safe to use and executing
different logic can be worth it.</p>
<p dir="auto">This also applies to subproblems your algorithm needs to solve. For example,
being able to use radix sort can have a significant impact on performance, or
using quickselect if you only need a partial sort.</p>
<p dir="auto">Sometimes rather than specialization for your particular task, the best
approach is to abstract it into a more general problem space that has been
well-studied by researchers.  Then you can apply the more general solution to
your specific problem.  Mapping your problem into a domain that already has
well-researched implementations can be a significant win.</p>
<p dir="auto">Similarly, using a simpler algorithm means that tradeoffs, analysis, and
implementation details are more likely to be more studied and well understood
than more esoteric or exotic and complex ones.</p>
<p dir="auto">Simpler algorithms can also be faster.  These two examples are not isolated cases
<a href="https://go-review.googlesource.com/c/crypto/+/169037" rel="nofollow">https://go-review.googlesource.com/c/crypto/+/169037</a>
<a href="https://go-review.googlesource.com/c/go/+/170322/" rel="nofollow">https://go-review.googlesource.com/c/go/+/170322/</a></p>
<p dir="auto">TODO: notes on algorithm selection</p>
<p dir="auto">TODO:
improve worst-case behaviour at slight cost to average runtime
linear-time regexp matching</p>
<p dir="auto">While most algorithms are deterministic, there are a class of algorithms that
use randomness as a way to simplify otherwise complex decision making step.
Instead of having code that does the Right Thing, you use randomness to
select a probably not <em>bad</em> thing. For example, a treap is a
probabilistically balanced binary tree. Each node has a key, but also is
assigned a random value. When inserting into the tree, the normal binary tree
insertion path is followed but the nodes also obey the heap property based
on each nodes randomly assigned weight. This simpler approach replaces
otherwise complicated tree rotating solutions (like AVL and Red Black trees)
but still maintains a balanced tree with O(log n) insert/lookup "with high
probability.  Skip lists are another similar, simple data structure that uses
randomness to produce "probably" O(log n) insertion and lookups.</p>
<p dir="auto">Similarly, choosing a random pivot for quicksort can be simpler than a more
complex median-of-medians approach to finding a good pivot, and the
probability that bad pivots are continually (randomly) chosen and degrading
quicksort's performance to O(n^2) is vanishingly small.</p>
<p dir="auto">Randomized algorithms are classed as either "Monte Carlo" algorithms or "Las
Vegas" algorithms, after two well known gambling locations. A Monte Carlo
algorithm gambles with correctness: it might output a wrong answer (or in the
case of the above, an unbalanced binary tree). A Las Vegas algorithm always
outputs a correct answer, but might take a very long time to terminate.</p>
<p dir="auto">Another well-known example of a randomized algorithm is the Miller-Rabin
primality testing algorithm. Each iteration will output either "not prime" or
"maybe prime". While "not prime" is certain, the "maybe prime" is correct
with probability at least 1/2. That is, there are non-primes for which "maybe
prime" will still be output. By running many iterations of Miller-Rabin, we
can make the probability of failure (that is, outputing "maybe prime" for a
composite number) as small as we'd like. If it passes 200 iterations, then we
can say the number is composite with probability at most 1/(2^200).</p>
<p dir="auto">Another area where randomness plays a part is called "The power of two random
choices". While initially the research was applied to load balancing, it
turned out to be widely applicable to a number of selection problems. The
idea is that rather than trying to find the best selection out of a group of
items, pick two at random and select the best from that. Returning to load
balancing (or hash table chains), the power of two random choices reduces the
expected load (or hash chain length) from O(log n) items to O(log log n)
items. For more information, see <a href="https://www.eecs.harvard.edu/~michaelm/postscripts/handbook2001.pdf" rel="nofollow">The Power of Two Random Choices: A Survey of Techniques and Results</a></p>
<p dir="auto">randomized algorithms:
other caching algorithms
statistical approximations (frequently depend on sample size and not population size)</p>
<p dir="auto">TODO: batching to reduce overhead: <a href="https://lemire.me/blog/2018/04/17/iterating-in-batches-over-data-structures-can-be-much-faster/" rel="nofollow">https://lemire.me/blog/2018/04/17/iterating-in-batches-over-data-structures-can-be-much-faster/</a></p>
<p dir="auto">TODO: - Algorithm Design Manual: <a href="http://algorist.com/algorist.html" rel="nofollow">http://algorist.com/algorist.html</a>
- How To Solve It By Computer
- to what extent is this a "how to write algorithms" book?  If you're going to change
the code to speed it up, by definition you're writing new algorithms.  Soo... maybe?</p>
<h3 dir="auto"><a id="user-content-benchmark-inputs" class="anchor" aria-hidden="true" href="#benchmark-inputs"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Benchmark Inputs</h3>
<p dir="auto">Real-world inputs rarely match the theoretical "worst case".  Benchmarking is
vital to understanding how your system behaves in production.</p>
<p dir="auto">You need to know what class of inputs your system will be seeing once deployed,
and your benchmarks must use instances pulled from that same distribution. As
we've seen, different algorithms make sense at different input sizes. If your
expected input range is &lt;100, then your benchmarks should reflect that.
Otherwise, choosing an algorithm which is optimal for n=10^6 might not be the
fastest.</p>
<p dir="auto">Be able to generate representative test data. Different distributions of data
can provoke different behaviours in your algorithm: think of the classic
"quicksort is O(n^2) when the data is sorted" example. Similarly,
interpolation search is O(log log n) for uniform random data, but O(n) worst
case. Knowing what your inputs look like is the key to both representative
benchmarks and for choosing the best algorithm. If the data you're using to
test isn't representative of real workloads, you can easily end up optimizing
for one particular data set, "overfitting" your code to work best with one
specific set of inputs.</p>
<p dir="auto">This also means your benchmark data needs to be representative of the real
world. Using purely randomized inputs may skew the behaviour of your algorithm.
Caching and compression algorithms both exploit skewed distributions not present
in random data and so will perform worse, while a binary tree will perform
better with random values as they will tend to keep the tree balanced. (This is
the idea behind a treap, by the way.)</p>
<p dir="auto">On the other hand, consider the case of testing a system with a cache. If your
benchmark input consists only a single query, then every request will hit the
cache giving potentially a very unrealistic view of how the system will behave
in the real world with a more varied request pattern.</p>
<p dir="auto">Also, note that some issues that are not apparent on your laptop might be visible
once you deploy to production and are hitting 250k reqs/second on a 40 core
server. Similarly, the behaviour of the garbage collector during benchmarking
can misrepresent real-world impact.  There are (rare) cases where a
microbenchmark will show a slow-down, but real-world performance improves.
Microbenchmarks can help nudge you in the right direction but being able to
fully test the impact of a change across the entire system is best.</p>
<p dir="auto">Writing good benchmarks can be difficult.</p>
<ul dir="auto">
<li><a href="https://timharris.uk/misc/five-ways.pdf" rel="nofollow">https://timharris.uk/misc/five-ways.pdf</a></li>
</ul>
<p dir="auto">Use geometric mean to compare groups of benchmarks.</p>
<ul dir="auto">
<li><a href="https://www.cse.unsw.edu.au/~cs9242/current/papers/Fleming_Wallace_86.pdf" rel="nofollow">https://www.cse.unsw.edu.au/~cs9242/current/papers/Fleming_Wallace_86.pdf</a></li>
</ul>
<p dir="auto">Evaluating Benchmark Accuracy:</p>
<ul dir="auto">
<li><a href="http://www.brendangregg.com/blog/2018-06-30/benchmarking-checklist.html" rel="nofollow">http://www.brendangregg.com/blog/2018-06-30/benchmarking-checklist.html</a></li>
</ul>
<h3 dir="auto"><a id="user-content-program-tuning" class="anchor" aria-hidden="true" href="#program-tuning"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Program Tuning</h3>
<p dir="auto">Program tuning used to be an art form, but then compilers got better. So now
it turns out that compilers can optimize straight-forward code better than
complicated code. The Go compiler still has a long way to go to match gcc and
clang, but it does mean that you need to be careful when tuning and
especially when upgrading Go versions that your code doesn't become "worse".
There are definitely cases where tweaks to work around the lack of a particular
compiler optimization became slower once the compiler was improved.</p>
<p dir="auto">My RC6 cipher implementation had a 10% speed up for the inner loop just by
switching to <code>encoding/binary</code> and <code>math/bits</code> instead of my hand-rolled
versions.</p>
<p dir="auto">Similarly, the <code>compress/bzip2</code> package was sped by switching to <a href="https://github.com/golang/go/commit/9eb219480e8de08d380ee052b7bff293856955f8">simpler
code the compiler was better able to
optimize</a></p>
<p dir="auto">If you are working around a specific runtime or compiler code generation
issue, always document your change with a link to the upstream issue. This
will allow you to quickly revisit your optimization once the bug is fixed.</p>
<p dir="auto">Fight the temptation to cargo cult folklore-based "performance tips", or even
over-generalize from your own experience. Each performance bug needs to be
approached on its own merits. Even if something has worked previously, make
sure to profile to ensure the fix is still applicable. Your previous
work can guide you, but don't apply previous optimizations blindly.</p>
<p dir="auto">Program tuning is an iterative process. Keep revisiting your code and seeing
what changes can be made. Ensure you're making progress at each step.
Frequently one improvement will enable others to be made. (Now that I'm not
doing A, I can simplify B by doing C instead.) This means you need to keep
looking at the entire picture and not get too obsessed with one small set of
lines.</p>
<p dir="auto">Once you've settled on the right algorithm, program tuning is the process of
improving the implementation of that algorithm. In Big-O notation, this is
the process of reducing the constants associated with your program.</p>
<p dir="auto">All program tuning is either making a slow thing fast, or doing a slow thing
fewer times. Algorithmic changes also fall into these categories, but we're
going to be looking at smaller changes. Exactly how you do this varies as
technologies change.</p>
<p dir="auto">Making a slow thing fast might be replacing SHA1 or <code>hash/fnv1</code> with a faster
hash function. Doing a slow thing fewer times might be saving the result of
the hash calculation of a large file so you don't have to do it multiple
times.</p>
<p dir="auto">Keep comments. If something doesn't need to be done, explain why. Frequently
when optimizing an algorithm you'll discover steps that don't need to be
performed under some circumstances. Document them. Somebody else might think
it's a bug and needs to be put back.</p>
<blockquote>
<p dir="auto">Empty programs gives the wrong answer in no time at all.</p>
<p dir="auto">It's easy to be fast if you don't have to be correct.</p>
</blockquote>
<p dir="auto">"Correctness" can depend on the problem. Heuristic algorithms that are
mostly-right most of the time can be fast, as can algorithms which guess and
improve allowing you to stop when you hit an acceptable limit.</p>
<p dir="auto">Cache common cases:</p>
<p dir="auto">We're all familiar with memcache, but there are also in-process caches.  Using
an in-process cache saves the cost of both the network call and the cost of
serialization. On the other hand, this increases GC pressure as there is more
memory to keep track of.  You also need to consider eviction strategies, cache
invalidation, and thread-safety.  An external cache will generally handle
eviction for you, but cache invalidation remains a problem.  Thread-safety can
also be an issue with external caches as it becomes effectively shared mutable
state either between different goroutines in the same service or even different
service instances if the external cache is shared.</p>
<p dir="auto">A cache saves information you've just spent time computing in the hopes that
you'll be able to reuse it again soon and save the computation time. A cache
doesn't need to be complex.  Even storing a single item -- the most recently
seen query/response -- can be a big win, as seen in the <code>time.Parse()</code> example
below.</p>
<p dir="auto">With caches it's important to compare the cost (in terms of actual wall-clock
and code complexity) of your caching logic to simply refetching or recomputing
the data.  The more complex algorithms that give higher hit rates are generally
not cheap themselves.  Randomized cache eviction is simple and fast and can be
effective in many cases.  Similarly, randomized cache <em>insertion</em> can limit your
cache to only popular items with minimal logic.  While these may not be as effective
as the more complex algorithms, the big improvement will be adding a cache in the first
place: choosing exactly which caching algorithm gives only minor improvements.</p>
<p dir="auto">It's important to benchmark your choice of cache eviction algorithm with
real-world traces. If in the real world repeated requests are sufficiently rare,
it can be more expensive to keep cached responses around than to simply
recompute them when needed. I've had services where testing with production data
showed even an optimal cache wasn't worth it. we simply did't have sufficient
repeated requests to make the added complexity of a cache make sense.</p>
<p dir="auto">Your expected cache hit ratio is important. You'll want to export the ratio to
your monitoring stack. Changing ratios will show a shift in traffic. Then it's
time to revisit the cache size or the expiration policy.</p>
<p dir="auto">A large cache can increase GC pressure. At the extreme (little or no eviction,
caching all requests to an expensive function) this can turn into
<a href="https://en.wikipedia.org/wiki/Memoization" rel="nofollow">memoization</a></p>
<p dir="auto">Program tuning:</p>
<p dir="auto">Program tuning is the art of iteratively improving a program in small steps.
Egon Elbre lays out his procedure:</p>
<ul dir="auto">
<li>Come up with a hypothesis as to why your program is slow.</li>
<li>Come up with N solutions to solve it</li>
<li>Try them all and keep the fastest.</li>
<li>Keep the second fastest just in case.</li>
<li>Repeat.</li>
</ul>
<p dir="auto">Tunings can take many forms.</p>
<ul dir="auto">
<li>If possible, keep the old implementation around for testing.</li>
<li>If not possible, generate sufficient golden test cases to compare output to.</li>
<li>"Sufficient" means including edge cases, as those are the ones likely to get
affected by tuning as you aim to improve performance in the general case.</li>
<li>Exploit a mathematical identity:
<ul dir="auto">
<li>Note that implementing and optimizing numerical calculations is almost its own field
<ul dir="auto">
<li><a href="https://github.com/golang/go/commit/ed6c6c9c11496ed8e458f6e0731103126ce60223">https://github.com/golang/go/commit/ed6c6c9c11496ed8e458f6e0731103126ce60223</a></li>
<li><a href="https://gist.github.com/dgryski/67e6a7ff94c3a1add30eb26ec0ad8b0f">https://gist.github.com/dgryski/67e6a7ff94c3a1add30eb26ec0ad8b0f</a></li>
<li>multiplication with addition</li>
<li>use WolframAlpha, Maxima, sympy and similar to specialize, optimize or create lookup-tables</li>
<li>(Also, <a href="https://users.ece.cmu.edu/~franzf/papers/gttse07.pdf" rel="nofollow">https://users.ece.cmu.edu/~franzf/papers/gttse07.pdf</a>)</li>
<li>moving from floating point math to integer math</li>
<li>or mandelbrot removing sqrt, or lttb removing abs,  <code>a &lt; b/c</code> =&gt; <code>a * c &lt; b</code></li>
<li>consider different number representations: fixed-point, floating-point, (smaller) integers,</li>
<li>fancier: integers with error accumulators (e.g. Bresenham's line and circle), multi-base numbers / redundant number systems</li>
</ul>
</li>
<li>"pay only for what you use, not what you could have used"
<ul dir="auto">
<li>zero only part of an array, rather than the whole thing</li>
</ul>
</li>
<li>best done in tiny steps, a few statements at a time</li>
<li>cheap checks before more expensive checks:
<ul dir="auto">
<li>e.g., strcmp before regexp, (q.v., bloom filter before query)
"do expensive things fewer times"</li>
</ul>
</li>
<li>common cases before rare cases
i.e., avoid extra tests that always fail</li>
<li>unrolling still effective: <a href="https://play.golang.org/p/6tnySwNxG6O" rel="nofollow">https://play.golang.org/p/6tnySwNxG6O</a>
<ul dir="auto">
<li>code size. vs branch test overhead</li>
</ul>
</li>
<li>using offsets instead of slice assignment can help with bounds checks, data dependencies, and code gen (less to copy in inner loop).</li>
<li>remove bounds checks and nil checks from loops: <a href="https://go-review.googlesource.com/c/go/+/151158" rel="nofollow">https://go-review.googlesource.com/c/go/+/151158</a></li>
<li>other tricks for the prove pass</li>
<li>this is where pieces of Hacker's Delight fall</li>
</ul>
</li>
</ul>
<p dir="auto">Many folklore performance tips for tuning rely on poorly optimizing compilers
and encourage the programmer to do these transformations by hand. Compilers
have been using shifts instead of multiplying or dividing by a power of two
for 15 years now -- nobody should be doing that by hand. Similarly, hoisting
invariant calculations out of loops, basic loop unrolling, common
sub-expression elimination and many others are all done automatically by gcc
and clang and the like. Go's compiler does many of these and continues to
improve.  As always, benchmark before committing to the new version.</p>
<p dir="auto">The transformations the compiler can't do rely on you knowing things about
the algorithm, about your input data, about invariants in your system, and
other assumptions you can make, and factoring that implicit knowledge into
removing or altering steps in the data structure.</p>
<p dir="auto">Every optimization codifies an assumption about your data. These <em>must</em> be
documented and, even better, tested for. These assumptions are going to be
where your program crashes, slows down, or starts returning incorrect data
as the system evolves.</p>
<p dir="auto">Program tuning improvements are cumulative. 5x 3% improvements is a 15%
improvement. When making optimizations, it's worth it to think about the
expected performance improvement. Replacing a hash function with a faster one
is a constant factor improvement.</p>
<p dir="auto">Understanding your requirements and where they can be altered can lead to
performance improvements. One issue that was presented in the #performance
Gophers Slack channel was the amount of time that was spent creating a unique
identifier for a map of string key/value pairs. The original solution was to
extract the keys, sort them, and pass the resulting string to a hash
function. The improved solution we came up was to individually hash the
keys/values as they were added to the map, then xor all these hashes together
to create the identifier.</p>
<p dir="auto">Here's an example of specialization.</p>
<p dir="auto">Let's say we're processing a massive log file for a single day, and each line
begins with a time stamp.</p>
<div class="snippet-clipboard-content position-relative overflow-auto" data-snippet-clipboard-copy-content="Sun  4 Mar 2018 14:35:09 PST &lt;...........................&gt;"><pre><code>Sun  4 Mar 2018 14:35:09 PST &lt;...........................&gt;
</code></pre></div>
<p dir="auto">For each line, we're going to call <code>time.Parse()</code> to turn it into a epoch. If
profiling shows us <code>time.Parse()</code> is the bottleneck, we have a few options to
speed things up.</p>
<p dir="auto">The easiest is to keep a single-item cache of the previously seen time stamp
and the associated epoch.  As long as our log file has multiple lines for a single
second, this will be a win.  For the case of a 10 million line log file,
this strategy reduces the number of expensive calls to <code>time.Parse()</code> from
10,000,000 to 86400 -- one for each unique second.</p>
<p dir="auto">TODO: code example for single-item cache</p>
<p dir="auto">Can we do more? Because we know exactly what format the timestamps are in
<em>and</em> that they all fall in a single day, we can write custom time parsing
logic that takes this into account. We can calculate the epoch for midnight,
then extract hour, minute, and second from the timestamp string -- they'll
all be in fixed offsets in the string -- and do some integer math.</p>
<p dir="auto">TODO: code example for string offset version</p>
<p dir="auto">In my benchmarks, this reduced the time parsing from 275ns/op to 5ns/op.
(Of course, even at 275 ns/op, you're more likely to be blocked on I/O and
not CPU for time parsing.)</p>
<p dir="auto">The general algorithm is slow because it has to handle more cases. Your
algorithm can be faster because you know more about your problem. But the
code is more closely tied to exactly what you need. It's much more difficult
to update if the time format changes.</p>
<p dir="auto">Optimization is specialization, and specialized code is more fragile to
change than general purpose code.</p>
<p dir="auto">The standard library implementations need to be "fast enough" for most cases.
If you have higher performance needs you will probably need specialized
implementations.</p>
<p dir="auto">Profile regularly to ensure to track the performance characteristics of your
system and be prepared to re-optimize as your traffic changes. Know the
limits of your system and have good metrics that allow you to predict when
you will hit those limits.</p>
<p dir="auto">When the usage of your application changes, different pieces may become
hotspots. Revisit previous optimizations and decide if they're still worth
it, and revert to more readable code when possible. I had one system that I
had optimized process startup time with a complex set of mmap, reflect, and
unsafe. Once we changed how the system was deployed, this code was no longer
required and I replaced it with much more readable regular file operations.</p>
<p dir="auto">TODO(dgryski): hash function work should fall here; manually inlining, removing structs,
unrolling loops, removing bounds checks</p>
<h3 dir="auto"><a id="user-content-optimization-workflow-summary" class="anchor" aria-hidden="true" href="#optimization-workflow-summary"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Optimization workflow summary</h3>
<p dir="auto">All optimizations should follow these steps:</p>
<ol dir="auto">
<li>determine your performance goals and confirm you are not meeting them</li>
<li>profile to identify the areas to improve.
<ul dir="auto">
<li>This can be CPU, heap allocations, or goroutine blocking.</li>
</ul>
</li>
<li>benchmark to determine the speed up your solution will provide using
the built-in benchmarking framework (<a href="http://golang.org/pkg/testing/" rel="nofollow">http://golang.org/pkg/testing/</a>)
<ul dir="auto">
<li>Make sure you're benchmarking the right thing on your target
operating system and architecture.</li>
</ul>
</li>
<li>profile again afterwards to verify the issue is gone</li>
<li>use <a href="https://godoc.org/golang.org/x/perf/benchstat" rel="nofollow">https://godoc.org/golang.org/x/perf/benchstat</a> or
<a href="https://github.com/codahale/tinystat">https://github.com/codahale/tinystat</a> to verify that a set of timings
are 'sufficiently' different for an optimization to be worth the added
code complexity.</li>
<li>use <a href="https://github.com/tsenart/vegeta">https://github.com/tsenart/vegeta</a> for load testing http services
(+ other fancy ones: k6, fortio, fbender)
<ul dir="auto">
<li>if possible, test ramp-up/ramp-down in addition to steady-state load</li>
</ul>
</li>
<li>make sure your latency numbers make sense</li>
</ol>
<p dir="auto">TODO: mention github.com/aclements/perflock as cpu noise reduction tool</p>
<p dir="auto">The first step is important. It tells you when and where to start optimizing.
More importantly, it also tells you when to stop. Pretty much all optimizations
add code complexity in exchange for speed. And you can <em>always</em> make code
faster. It's a balancing act.</p>
<h2 dir="auto"><a id="user-content-garbage-collection" class="anchor" aria-hidden="true" href="#garbage-collection"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Garbage Collection</h2>
<p dir="auto">You pay for memory allocation more than once. The first is obviously when you
allocate it. But you also pay every time the garbage collection runs.</p>
<blockquote>
<p dir="auto">Reduce/Reuse/Recycle.
-- @bboreham</p>
</blockquote>
<ul dir="auto">
<li>Stack vs. heap allocations</li>
<li>What causes heap allocations?</li>
<li>Understanding escape analysis (and the current limitation)</li>
<li>/debug/pprof/heap , and -base</li>
<li>API design to limit allocations:
<ul dir="auto">
<li>allow passing in buffers so caller can reuse rather than forcing an allocation</li>
<li>you can even modify a slice in place carefully while you scan over it</li>
<li>passing in a struct could allow caller to stack allocate it</li>
</ul>
</li>
<li>reducing pointers to reduce gc scan times
<ul dir="auto">
<li>pointer-free slices</li>
<li>maps with both pointer-free keys and values</li>
</ul>
</li>
<li>GOGC</li>
<li>buffer reuse (sync.Pool vs or custom via go-slab, etc)</li>
<li>slicing vs. offset: pointer writes while GC is running need writebarrier: <a href="https://github.com/golang/go/commit/b85433975aedc2be2971093b6bbb0a7dc264c8fd">https://github.com/golang/go/commit/b85433975aedc2be2971093b6bbb0a7dc264c8fd</a>
<ul dir="auto">
<li>no writebarrier if writing to stack <a href="https://github.com/golang/go/commit/2140975ebde164ea1eaa70fc72775c03567f2bc9">https://github.com/golang/go/commit/2140975ebde164ea1eaa70fc72775c03567f2bc9</a></li>
</ul>
</li>
<li>use error variables instead of errors.New() / fmt.Errorf() at call site  (performance or style? interface requires pointer, so it escapes to heap anyway)</li>
<li>use structured errors to reduce allocation (pass struct value), create string at error printing time</li>
<li>size classes</li>
<li>beware pinning larger allocation with smaller substrings or slices</li>
</ul>
<h2 dir="auto"><a id="user-content-runtime-and-compiler" class="anchor" aria-hidden="true" href="#runtime-and-compiler"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Runtime and compiler</h2>
<ul dir="auto">
<li>cost of calls via interfaces (indirect calls on the CPU level)</li>
<li>runtime.convT2E / runtime.convT2I</li>
<li>type assertions vs. type switches</li>
<li>defer</li>
<li>special-case map implementations for ints, strings
<ul dir="auto">
<li>map for byte/uint16 not optimized; use a slice instead.</li>
<li>You can fake a float64-optimized with math.Float{32,64}{from,}bits, but beware float equality issues</li>
<li><a href="https://github.com/dgryski/go-gk/blob/master/exact.go">https://github.com/dgryski/go-gk/blob/master/exact.go</a> says 100x faster; need benchmarks</li>
</ul>
</li>
<li>bounds check elimination</li>
<li>[]byte &lt;-&gt; string copies, map optimizations</li>
<li>two-value range will copy an array, use the slice instead:
<ul dir="auto">
<li><a href="https://play.golang.org/p/4b181zkB1O" rel="nofollow">https://play.golang.org/p/4b181zkB1O</a></li>
<li><a href="https://github.com/mdempsky/rangerdanger">https://github.com/mdempsky/rangerdanger</a></li>
</ul>
</li>
<li>use string concatenation instead of fmt.Sprintf where possible; runtime has optimized routines for it</li>
</ul>
<h2 dir="auto"><a id="user-content-unsafe" class="anchor" aria-hidden="true" href="#unsafe"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Unsafe</h2>
<ul dir="auto">
<li>And all the dangers that go with it</li>
<li>Common uses for unsafe</li>
<li>mmap'ing data files
<ul dir="auto">
<li>struct padding</li>
<li>but not always sufficiently faster to justify complexity/safety cost</li>
<li>but "off-heap", so ignored by gc (but so would a pointerless slice)</li>
</ul>
</li>
<li>need to think about serialization format: how to deal with pointers, indexing (mph, index header)</li>
<li>speedy de-serialization</li>
<li>binary wire protocol to struct when you already have the buffer</li>
<li>string &lt;-&gt; slice conversion, []byte &lt;-&gt; []uint32, ...</li>
<li>int to bool unsafe hack (but cmov) (but != 0 is also branch-free)</li>
<li>padding:
<ul dir="auto">
<li><a href="https://dave.cheney.net/2015/10/09/padding-is-hard" rel="nofollow">https://dave.cheney.net/2015/10/09/padding-is-hard</a></li>
<li><a href="http://www.catb.org/esr/structure-packing/#_go_and_rust" rel="nofollow">http://www.catb.org/esr/structure-packing/#_go_and_rust</a></li>
<li><a href="https://golang.org/ref/spec#Size_and_alignment_guarantees" rel="nofollow">https://golang.org/ref/spec#Size_and_alignment_guarantees</a></li>
<li><a href="https://github.com/dominikh/go-tools">https://github.com/dominikh/go-tools</a> structlayout, structlayout-optimize</li>
<li>write tests for struct layout with unsafe.Offsetof to notice breakage from unsafe or asm</li>
</ul>
</li>
</ul>
<h2 dir="auto"><a id="user-content-common-gotchas-with-the-standard-library" class="anchor" aria-hidden="true" href="#common-gotchas-with-the-standard-library"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Common gotchas with the standard library</h2>
<ul dir="auto">
<li>time.After() leaks until it fires; use t := NewTimer(); t.Stop() / t.Reset()</li>
<li>Reusing HTTP connections...; ensure the body is drained (issue #?)</li>
<li>rand.Int() and friends are 1) mutex protected and 2) expensive to create
<ul dir="auto">
<li>consider alternate random number generation (go-pcgr, xorshift)</li>
</ul>
</li>
<li>binary.Read and binary.Write use reflection and are slow; do it by hand. (<a href="https://github.com/conformal/yubikey/commit/613e3b04ae2eeb78e6a19636b8ff8e9106d2e7bc">https://github.com/conformal/yubikey/commit/613e3b04ae2eeb78e6a19636b8ff8e9106d2e7bc</a>)</li>
<li>use strconv instead of fmt if possible</li>
<li>Use <code>strings.EqualFold(str1, str2)</code> instead of <code>strings.ToLower(str1) == strings.ToLower(str2)</code> or <code>strings.ToUpper(str1) == strings.ToUpper(str2)</code> to efficiently compare strings if possible.</li>
<li>...</li>
</ul>
<h2 dir="auto"><a id="user-content-alternate-implementations" class="anchor" aria-hidden="true" href="#alternate-implementations"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Alternate implementations</h2>
<p dir="auto">Popular replacements for standard library packages:</p>
<ul dir="auto">
<li>encoding/json -&gt; <a href="https://github.com/pquerna/ffjson">ffjson</a>, <a href="https://github.com/mailru/easyjson">easyjson</a>, <a href="https://github.com/bet365/jingo">jingo</a> (only encoder), etc</li>
<li>net/http
<ul dir="auto">
<li><a href="https://github.com/valyala/fasthttp/">fasthttp</a> (but incompatible API, not RFC compliant in subtle ways)</li>
<li><a href="https://github.com/julienschmidt/httprouter">httprouter</a> (has other features besides speed; I've never actually seen routing in my profiles)</li>
</ul>
</li>
<li>regexp -&gt; <a href="https://www.colm.net/open-source/ragel/" rel="nofollow">ragel</a> (or other regular expression package)</li>
<li>serialization
<ul dir="auto">
<li>encoding/gob -&gt; <a href="https://github.com/alecthomas/go_serialization_benchmarks">https://github.com/alecthomas/go_serialization_benchmarks</a></li>
<li>protobuf -&gt; <a href="https://github.com/gogo/protobuf">https://github.com/gogo/protobuf</a></li>
<li>all serialization formats have trade-offs: choose one that matches what you need
<ul dir="auto">
<li>Write heavy workload -&gt; fast encoding speed</li>
<li>Read-heavy workload -&gt; fast decoding speed</li>
<li>Other considerations: encoded size, language/tooling compatibility</li>
<li>tradeoffs of packed binary formats vs. self-describing text formats</li>
</ul>
</li>
</ul>
</li>
<li>database/sql -&gt; has tradeoffs that affect performance
<ul dir="auto">
<li>look for drivers that don't use it: jackx/pgx, crawshaw sqlite, ...</li>
</ul>
</li>
<li>gccgo (benchmark!), gollvm (WIP)</li>
<li>container/list: use a slice instead (almost always)</li>
</ul>
<h2 dir="auto"><a id="user-content-cgo" class="anchor" aria-hidden="true" href="#cgo"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>cgo</h2>
<blockquote>
<p dir="auto">cgo is not go
-- Rob Pike</p>
</blockquote>
<ul dir="auto">
<li>Performance characteristics of cgo calls</li>
<li>Tricks to reduce the costs: batching</li>
<li>Rules on passing pointers between Go and C</li>
<li>syso files (race detector, dev.boringssl)</li>
</ul>
<h2 dir="auto"><a id="user-content-advanced-techniques" class="anchor" aria-hidden="true" href="#advanced-techniques"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Advanced Techniques</h2>
<p dir="auto">Techniques specific to the architecture running the code</p>
<ul dir="auto">
<li>
<p dir="auto">introduction to CPU caches</p>
<ul dir="auto">
<li>performance cliffs</li>
<li>building intuition around cache-lines: sizes, padding, alignment</li>
<li>OS tools to view cache-misses (perf)</li>
<li>maps vs. slices</li>
<li>SOA vs AOS layouts: row-major vs. column major; when you have an X, do you need another X or do you need a Y?</li>
<li>temporal and spacial locality: use what you have and what's nearby as much as possible</li>
<li>reducing pointer chasing</li>
<li>explicit memory prefetching; frequently ineffective; lack of intrinsics means function call overhead (removed from runtime)</li>
<li>make the first 64-bytes of your struct count</li>
</ul>
</li>
<li>
<p dir="auto">branch prediction</p>
<ul dir="auto">
<li>
<p dir="auto">remove branches from inner loops:
if a { for { } } else { for { } }
instead of
for { if a { } else { } }
benchmark due to branch prediction
structure to avoid branch</p>
<p dir="auto">if i % 2 == 0 {
evens++
} else {
odds++
}</p>
<p dir="auto">counts[i &amp; 1] ++
"branch-free code", benchmark; not always faster, but frequently harder to read
TODO: ASCII class counts example, with benchmarks</p>
</li>
</ul>
</li>
<li>
<p dir="auto">sorting data can help improve performance via both cache locality and branch prediction, even taking into account the time it takes to sort</p>
</li>
<li>
<p dir="auto">function call overhead: inliner is getting better</p>
</li>
<li>
<p dir="auto">reduce data copies (including for repeated large lists of function params)</p>
</li>
<li>
<p dir="auto">Comment about Jeff Dean's 2002 numbers (plus updates)</p>
<ul dir="auto">
<li>cpus have gotten faster, but memory hasn't kept up</li>
</ul>
</li>
</ul>
<p dir="auto">TODO: little comment about code-aligment free optimization (or unoptimization)</p>
<h2 dir="auto"><a id="user-content-concurrency" class="anchor" aria-hidden="true" href="#concurrency"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Concurrency</h2>
<ul dir="auto">
<li>Figure out which pieces can be done in parallel and which must be sequential</li>
<li>goroutines are cheap, but not free.</li>
<li>Optimizing multi-threaded code
<ul dir="auto">
<li>false-sharing -&gt; pad to cache-line size</li>
<li>true sharing -&gt; sharding</li>
</ul>
</li>
<li>Overlap with previous section on caches and false/true sharing</li>
<li>Lazy synchronization; it's expensive, so duplicating work may be cheaper</li>
<li>things you can control: number of workers, batch size</li>
</ul>
<p dir="auto">You need a mutex to protect shared mutable state.  If you have lots of mutex
contention, you need to either reduce the shared, or reduce the mutable.  Two
ways to reduce the shared are 1) shard the locks or 2) process independently
and combine afterwards.  To reduce mutable: well, make your data structure
read-only.  You can also reduce the time the data needs be shared by reducing
the critical section -- hold the lock as little as needed.  Sometimes a RWMutex
will be sufficient, although note that they're slower but they allow multiple
readers in.</p>
<p dir="auto">If you're sharding the locks, be careful of shared cache-lines.  You'll need to pad
to avoid cache-line bouncing between processors.</p>
<p dir="auto">var stripe [8]struct{ sync.Mutex; _ [7]uint64 } // mutex is 64-bits; padding fills the rest of the cacheline</p>
<p dir="auto">Don't do anything expensive in your critical section if you can help it.  This includes things like I/O (which are cheap but slow).</p>
<p dir="auto">TODO: how to decompose problem for concurrency
TODO: reasons parallel implementation might be slower (communication overhead, best algorithm is sequential, ... )</p>
<h2 dir="auto"><a id="user-content-assembly" class="anchor" aria-hidden="true" href="#assembly"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Assembly</h2>
<ul dir="auto">
<li>Stuff about writing assembly code for Go</li>
<li>compilers improve; the bar is high</li>
<li>replace as little as possible to make an impact; maintenance cost is high</li>
<li>good reasons: SIMD instructions or other things outside of what Go and the compiler can provide</li>
<li>very important to benchmark: improvements can be huge (10x for go-highway)
zero (go-speck/rc6/farm32), or even slower (no inlining)</li>
<li>rebenchmark with new versions to see if you can delete your code yet
<ul dir="auto">
<li>TODO: link to 1.11 patches removing asm code</li>
</ul>
</li>
<li>always have pure-Go version (purego build tag): testing, arm, gccgo</li>
<li>brief intro to syntax</li>
<li>how to type the middle dot</li>
<li>calling convention: everything is on the stack, followed by the return values.
<ul dir="auto">
<li>everything is on the stack, followed by the return values</li>
<li>this might change <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="199914923" data-permission-text="Title is private" data-url="https://github.com/golang/go/issues/18597" data-hovercard-type="issue" data-hovercard-url="/golang/go/issues/18597/hovercard" href="https://github.com/golang/go/issues/18597">golang/go#18597</a></li>
<li><a href="https://science.raphael.poss.name/go-calling-convention-x86-64.html" rel="nofollow">https://science.raphael.poss.name/go-calling-convention-x86-64.html</a></li>
</ul>
</li>
<li>using opcodes unsupported by the asm (asm2plan9, but this is getting rarer)</li>
<li>notes about why inline assembly is hard: <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="349068494" data-permission-text="Title is private" data-url="https://github.com/golang/go/issues/26891" data-hovercard-type="issue" data-hovercard-url="/golang/go/issues/26891/hovercard" href="https://github.com/golang/go/issues/26891">golang/go#26891</a></li>
<li>all the tooling to make this easier:
<ul dir="auto">
<li>asmfmt: gofmt for assembly <a href="https://github.com/klauspost/asmfmt">https://github.com/klauspost/asmfmt</a></li>
<li>c2goasm: convert assembly from gcc/clang to goasm <a href="https://github.com/minio/c2goasm">https://github.com/minio/c2goasm</a></li>
<li>go2asm: convert go to assembly you can link <a href="https://rsc.io/tmp/go2asm" rel="nofollow">https://rsc.io/tmp/go2asm</a></li>
<li>peachpy/avo: higher-level assembler in python (peachpy) or Go (avo)</li>
<li>differences of above</li>
</ul>
</li>
<li><a href="https://github.com/golang/go/wiki/AssemblyPolicy">https://github.com/golang/go/wiki/AssemblyPolicy</a></li>
<li>Design of the Go Assembler: <a href="https://talks.golang.org/2016/asm.slide" rel="nofollow">https://talks.golang.org/2016/asm.slide</a></li>
</ul>
<h2 dir="auto"><a id="user-content-optimizing-an-entire-service" class="anchor" aria-hidden="true" href="#optimizing-an-entire-service"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Optimizing an entire service</h2>
<p dir="auto">Most of the time you won't be presented with a single CPU-bound routine.
That's the easy case. If you have a service to optimize, you need to look
at the entire system. Monitoring. Metrics. Log lots of things over time
so you can see them getting worse and so you can see the impact your
changes have in production.</p>
<p dir="auto">tip.golang.org/doc/diagnostics.html</p>
<ul dir="auto">
<li>references for system design: SRE Book, practical distributed system design</li>
<li>extra tooling: more logging + analysis</li>
<li>The two basic rules: either speed up the slow things or do them less frequently.</li>
<li>distributed tracing to track bottlenecks at a higher level</li>
<li>query patterns for querying a single server instead of in bulk</li>
<li>your performance issues may not be your code, but you'll have to work around them anyway</li>
<li><a href="https://docs.microsoft.com/en-us/azure/architecture/antipatterns/" rel="nofollow">https://docs.microsoft.com/en-us/azure/architecture/antipatterns/</a></li>
</ul>
<h2 dir="auto"><a id="user-content-tooling" class="anchor" aria-hidden="true" href="#tooling"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Tooling</h2>
<h3 dir="auto"><a id="user-content-introductory-profiling" class="anchor" aria-hidden="true" href="#introductory-profiling"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Introductory Profiling</h3>
<p dir="auto">This is a quick cheat-sheet for using the pprof tooling.  There are plenty of other guides available on this.
Check out <a href="https://github.com/davecheney/high-performance-go-workshop">https://github.com/davecheney/high-performance-go-workshop</a>.</p>
<p dir="auto">TODO(dgryski): videos?</p>
<ol dir="auto">
<li>Introduction to pprof
<ul dir="auto">
<li>go tool pprof (and <a href="https://github.com/google/pprof">https://github.com/google/pprof</a>)</li>
</ul>
</li>
<li>Writing and running (micro)benchmarks
<ul dir="auto">
<li>small, like unit tests</li>
<li>profile, extract hot code to benchmark, optimize benchmark, profile.</li>
<li>-cpuprofile / -memprofile / -benchmem</li>
<li>0.5 ns/op means it was optimized away -&gt; how to avoid</li>
<li>tips for writing good microbenchmarks (remove unnecessary work, but add baselines)</li>
</ul>
</li>
<li>How to read it pprof output</li>
<li>What are the different pieces of the runtime that show up</li>
</ol>
<ul dir="auto">
<li>malloc, gc workers</li>
<li>runtime._ExternalCode</li>
</ul>
<ol dir="auto">
<li>Macro-benchmarks (Profiling in production)
<ul dir="auto">
<li>larger, like end-to-end tests</li>
<li>net/http/pprof, debug muxer</li>
<li>because it's sampling, hitting 10 servers at 100hz is the same as hitting 1 server at 1000hz</li>
</ul>
</li>
<li>Using -base to look at differences</li>
<li>Memory options: -inuse_space, -inuse_objects, -alloc_space, -alloc_objects</li>
<li>Profiling in production; localhost+ssh tunnels, auth headers, using curl.</li>
<li>How to read flame graphs</li>
</ol>
<h3 dir="auto"><a id="user-content-tracer" class="anchor" aria-hidden="true" href="#tracer"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Tracer</h3>
<h3 dir="auto"><a id="user-content-look-at-some-more-interestingadvanced-tooling" class="anchor" aria-hidden="true" href="#look-at-some-more-interestingadvanced-tooling"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Look at some more interesting/advanced tooling</h3>
<ul dir="auto">
<li>other tooling in /x/perf</li>
<li>perf (perf2pprof)</li>
<li>intel vtune / amd codexl / apple instruments</li>
<li><a href="https://godoc.org/github.com/aclements/go-perf" rel="nofollow">https://godoc.org/github.com/aclements/go-perf</a></li>
</ul>
<h2 dir="auto"><a id="user-content-appendix-implementing-research-papers" class="anchor" aria-hidden="true" href="#appendix-implementing-research-papers"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Appendix: Implementing Research Papers</h2>
<p dir="auto">Tips for implementing papers: (For <code>algorithm</code> read also <code>data structure</code>)</p>
<ul dir="auto">
<li>Don't. Start with the obvious solution and reasonable data structures.</li>
</ul>
<p dir="auto">"Modern" algorithms tend to have lower theoretical complexities but high constant
factors and lots of implementation complexity. One of the classic examples of
this is Fibonacci heaps. They're notoriously difficult to get right and have
a huge constant factor. There has been a number of papers published comparing
different heap implementations on different workloads, and in general the 4-
or 8-ary implicit heaps consistently come out on top. And even in the cases
where Fibonacci heap should be faster (due to O(1) "decrease-key"),
experiments with Dijkstra's depth-first search algorithm show it's faster
when they use the straight heap removal and addition.</p>
<p dir="auto">Similarly, treaps or skiplists vs. the more complex red-black or AVL trees.
On modern hardware, the "slower" algorithm may be fast enough, or even
faster.</p>
<blockquote>
<p dir="auto">The fastest algorithm can frequently be replaced by one that is almost as fast and much easier to understand.</p>
<p dir="auto">-- Douglas W. Jones, University of Iowa</p>
</blockquote>
<p dir="auto">and</p>
<blockquote>
<p dir="auto">Rule 3. Fancy algorithms are slow when n is small, and n is usually small.
Fancy algorithms have big constants. Until you know that n is frequently going
to be big, don't get fancy.</p>
<p dir="auto">Rule 4. Fancy algorithms are buggier than simple ones, and they're much
harder to implement. Use simple algorithms as well as simple data structures.
-- "Notes on C Programming" (Rob Pike, 1989)</p>
</blockquote>
<p dir="auto">The added complexity has to be enough that the payoff is actually worth it.
Another example is cache eviction algorithms. Different algorithms can have
much higher complexity for only a small improvement in hit ratio. Of course,
you may not be able to test this until you have a working implementation and
have integrated it into your program.</p>
<p dir="auto">Sometimes the paper will have graphs, but much like the trend towards
publishing only positive results, these will tend to be skewed in favour of
showing how good the new algorithm is.</p>
<ul dir="auto">
<li>Choose the right paper.</li>
<li>Look for the paper their algorithm claims to beat and implement that.</li>
</ul>
<p dir="auto">Frequently, earlier papers will be easier to understand and necessarily have
simpler algorithms.</p>
<p dir="auto">Not all papers are good.</p>
<p dir="auto">Look at the context the paper was written in. Determine assumptions about
the hardware: disk space, memory usage, etc. Some older papers make
different tradeoffs that were reasonable in the 70s or 80s but don't
necessarily apply to your use case. For example, what they determine to be
"reasonable" memory vs. disk usage tradeoffs. Memory sizes are now orders of
magnitude larger, and SSDs have altered the latency penalty for using disk.
Similarly, some streaming algorithms are designed for router hardware, which
can make it a pain to translate into software.</p>
<p dir="auto">Make sure the assumptions the algorithm makes about your data hold.</p>
<p dir="auto">This will take some digging. You probably don't want to implement the
first paper you find.</p>
<ul dir="auto">
<li>
<p dir="auto">Make sure you understand the algorithm. This sounds obvious, but it will be
impossible to debug otherwise.</p>
<p dir="auto"><a href="https://blizzard.cs.uwaterloo.ca/keshav/home/Papers/data/07/paper-reading.pdf" rel="nofollow">https://blizzard.cs.uwaterloo.ca/keshav/home/Papers/data/07/paper-reading.pdf</a></p>
<p dir="auto">A good understanding may allow you to extract the key idea from the paper
and possibly apply just that to your problem, which may be simpler than
reimplementing the entire thing.</p>
</li>
<li>
<p dir="auto">The original paper for a data structure or algorithm isn't always the best.  Later papers may have better explanations.</p>
</li>
<li>
<p dir="auto">Some papers release reference source code which you can compare against, but</p>
<ol dir="auto">
<li>academic code is almost universally terrible</li>
<li>beware licensing restrictions ("research purposes only")</li>
<li>beware bugs; edge cases, error checking, performance etc.</li>
</ol>
<p dir="auto">Also look out for other implementations on GitHub: they may have the same (or different!) bugs as yours.</p>
</li>
</ul>
<p dir="auto">Other resources on this topic:</p>
<ul dir="auto">
<li><a href="https://www.youtube.com/watch?v=8eRx5Wo3xYA" rel="nofollow">https://www.youtube.com/watch?v=8eRx5Wo3xYA</a></li>
<li><a href="http://codecapsule.com/2012/01/18/how-to-implement-a-paper/" rel="nofollow">http://codecapsule.com/2012/01/18/how-to-implement-a-paper/</a></li>
</ul>
</article>
  </div>

    </div>

  </readme-toc>

  

  <details class="details-reset details-overlay details-overlay-dark" id="jumpto-line-details-dialog">
    <summary data-hotkey="l" aria-label="Jump to line"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast linejump" aria-label="Jump to line">
      <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-jump-to-line-form Box-body d-flex" data-turbo="false" action="" accept-charset="UTF-8" method="get">
        <input class="form-control flex-auto mr-3 linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line&hellip;" aria-label="Jump to line" autofocus>
        <button data-close-dialog="" type="submit" data-view-component="true" class="btn">  Go
</button>
</form>    </details-dialog>
  </details>


</div>

  </div>


</div>

    </main>
  </div>

  </div>

          <footer class="footer width-full container-xl p-responsive" role="contentinfo">


  <div class="position-relative d-flex flex-items-center pb-2 f6 color-fg-muted border-top color-border-muted flex-column-reverse flex-lg-row flex-wrap flex-lg-nowrap mt-6 pt-6">
    <ul class="list-style-none d-flex flex-wrap col-0 col-lg-2 flex-justify-start flex-lg-justify-between mb-2 mb-lg-0">
      <li class="mt-2 mt-lg-0 d-flex flex-items-center">
        <a aria-label="Homepage" title="GitHub" class="footer-octicon mr-2" href="https://github.com">
          <svg aria-hidden="true" height="24" viewBox="0 0 16 16" version="1.1" width="24" data-view-component="true" class="octicon octicon-mark-github">
    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
</svg>
</a>        <span>
        &copy; 2022 GitHub, Inc.
        </span>
      </li>
    </ul>
    <ul class="list-style-none d-flex flex-wrap col-12 col-lg-8 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
        <li class="mr-3 mr-lg-0"><a href="https://docs.github.com/en/github/site-policy/github-terms-of-service" data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to terms&quot;,&quot;label&quot;:&quot;text:terms&quot;}">Terms</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://docs.github.com/en/github/site-policy/github-privacy-statement" data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to privacy&quot;,&quot;label&quot;:&quot;text:privacy&quot;}">Privacy</a></li>
        <li class="mr-3 mr-lg-0"><a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to security&quot;,&quot;label&quot;:&quot;text:security&quot;}" href="https://github.com/security">Security</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://www.githubstatus.com/" data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to status&quot;,&quot;label&quot;:&quot;text:status&quot;}">Status</a></li>
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to help, text:Docs" href="https://docs.github.com">Docs</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://support.github.com?tags=dotcom-footer" data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to contact&quot;,&quot;label&quot;:&quot;text:contact&quot;}">Contact GitHub</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://github.com/pricing" data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to Pricing&quot;,&quot;label&quot;:&quot;text:Pricing&quot;}">Pricing</a></li>
      <li class="mr-3 mr-lg-0"><a href="https://docs.github.com" data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to api&quot;,&quot;label&quot;:&quot;text:api&quot;}">API</a></li>
      <li class="mr-3 mr-lg-0"><a href="https://services.github.com" data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to training&quot;,&quot;label&quot;:&quot;text:training&quot;}">Training</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://github.blog" data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to blog&quot;,&quot;label&quot;:&quot;text:blog&quot;}">Blog</a></li>
        <li><a data-ga-click="Footer, go to about, text:about" href="https://github.com/about">About</a></li>
    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 color-fg-muted"></span>
  </div>
</footer>




  <div id="ajax-error-message" class="ajax-error-message flash flash-error" hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg>
    </button>
    You cant perform that action at this time.
  </div>

  <div class="js-stale-session-flash flash flash-warn flash-banner" hidden
    >
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
    <span class="js-stale-session-flash-signed-in" hidden>You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
    <span class="js-stale-session-flash-signed-out" hidden>You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
  </div>
    <template id="site-details-dialog">
  <details class="details-reset details-overlay details-overlay-dark lh-default color-fg-default hx_rsm" open>
    <summary role="button" aria-label="Close dialog"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast hx_rsm-dialog hx_rsm-modal">
      <button class="Box-btn-octicon m-0 btn-octicon position-absolute right-0 top-0" type="button" aria-label="Close dialog" data-close-dialog>
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg>
      </button>
      <div class="octocat-spinner my-6 js-details-dialog-spinner"></div>
    </details-dialog>
  </details>
</template>

    <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;" tabindex="0">
  <div class="Popover-message Popover-message--bottom-left Popover-message--large Box color-shadow-large" style="width:360px;">
  </div>
</div>

    <template id="snippet-clipboard-copy-button">
  <div class="zeroclipboard-container position-absolute right-0 top-0">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn js-clipboard-copy m-2 p-0 tooltipped-no-delay" data-copy-feedback="Copied!" data-tooltip-direction="w">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon m-2">
    <path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none m-2">
    <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
</svg>
    </clipboard-copy>
  </div>
</template>




  </body>
</html>

